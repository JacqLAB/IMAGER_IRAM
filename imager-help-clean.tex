\subsection{Language}
\index{Language}
\begin{verbatim}
    ALMA          : Joint deconvolution of ALMA and ACA dirty images
    BUFFERS       : List and Display the known buffer status
    CLEAN         : Deconvolve a dirty image using the current METHOD
    COLOR         : Control the color LUT to highlight the Zero level
    DUMP          : Dump the control parameters of the deconvolution algorithms
    FIT           : Fit the dirty beam
    INSPECT_3D    : Visualize datacube by cuts along 3 main directions
    MAP_RESAMPLE  :  Resample a Map on a different Velocity/Frequency scale
    MAP_INTEGRATE :  Compute a Moment 0 Map
    MAP_COMPRESS  :  Average a Map by several channels
    MOSAIC        : Toggle the mosaic mode
    MX            : Iteratively image and deconvolve a dirty image
    PRIMARY       : Apply primary beam correction
    READ          : Read the input files in internal buffers
    SHOW          : Display (in a plot) some internal buffer result
    SPECIFY       : Change the Frequency / Velocity scale or the Telescope
    STATISTIC     : Compute statistics on image
    SUPPORT       : Define the support used to search clean components
    UV_BASELINE   : Subtract a continuum baseline from a Line UV data
    UV_CHECK      : Check UV data for null visibilities or per channel flags.
    UV_COMPRESS   : Compress a Line UV data into another Line UV data
    UV_CONTINUUM  : Compress a Line UV data into a Continuum UV data
    UV_EXTRACT    : Extract a range from
    UV_FILTER     : Filter out (line) channels
    UV_FLAG       : Interactively flag UV data
    UV_MAP        : Build the dirty image and beam from a UV table
    UV_RESAMPLE   : Resample (in Velocity) the UV data
    UV_RESIDUAL   : Subtract Clean Component from the UV Data
    UV_RESTORE    : Restore a Clean image from UV data and Clean Components
    UV_SHIFT      : Shift a UV table to common phase center
    UV_SORT       : Sort and Transpose UV data for plotting
    UV_SPLIT      : Split a UV table into Line and Continuum
    UV_STAT       : Gives beam sizes and noise properties as a function of
                     tapering or robust weighting parameter
    UV_TIME       : Time average the current UV data
    UV_TRUNCATE   : Truncate the baseline range of the UV data
    VIEW          : Show (in a GO VIEW-like plot) some internal buffer result
    WRITE         : Save internal buffers or Image variables onto output files

\end{verbatim}
\subsection{ALMA}
\index{ALMA}
\begin{verbatim}
        [CLEAN\]ALMA  [FirstPlane  [LastPlane]]  [/PLOT Clean|Residu] [/FLUX
    Fmin Fmax] [/QUERY] [/NOISE] [/METHOD]

    Joint deconvolution methods specific to ALMA+ACA observations.

    The ALMA simulator can be accessed either by  typing  "@  alma"  at  the
    prompt or from the MAPPING main menu.

\end{verbatim}
\subsection{BUFFERS}
\index{BUFFERS}
\begin{verbatim}
        [CLEAN\]BUFFERS

    List the status (sizes) of known buffers.
\end{verbatim}
\subsubsection{BUFFERS AGAINS}
\index{BUFFERS!AGAINS}
\begin{verbatim}

          AGAINS  is  a  buffer containing the results of a self-calibration
    with command SELFCAL. It is a special table  in  the  following  format.
    Each line contains a different time stamp. Column 1 is the Time (in sec-
    onds), Col 2 the Date (in Days, with an arbitrary  origin),  Col  3  the
    number  of  antennas,  Col 4 the antenna reference number, and then, for
    each antennas i, Cols (2+3*i:2+3*i) contains  the  Amplitude  correction
    factor, the Phase correction (in degree), and the Signal-to-noise of the
    correction.

\end{verbatim}
\subsubsection{BUFFERS BEAM}
\index{BUFFERS!BEAM}
\begin{verbatim}
          BEAM is a 2,3 or 4-D image buffer containing the synthesized  beam
    computed by UV_MAP (or by READ BEAM).

\end{verbatim}
\subsubsection{BUFFERS CCT}
\index{BUFFERS!CCT}
\begin{verbatim}
          CCT  is  a special 3-D array containing the Clean Component Table.
    The first dimension contains (x,y,f), the flux (in Jy) at offset x,y (in
    radians). The second dimension handles the number of channels.  The last
    dimension handles the Clean iteration number.

\end{verbatim}
\subsubsection{BUFFERS CGAINS}
\index{BUFFERS!CGAINS}
\begin{verbatim}

         CGAINS is a pseudo-UV table containing the complex gain correction
     resulting from a SELFCAL command (or read by READ CGAINS). It is
     analogous to a single-channel UV table, but interpreted by IMAGER
     as gain corrections to apply to the UV data by command APPLY.

\end{verbatim}
\subsubsection{BUFFERS CLEAN}
\index{BUFFERS!CLEAN}
\begin{verbatim}
          CLEAN is the deconvolved 2 or 3-D image  produced  by  UV_MAP  (or
    read by READ CLEAN).  It is not corrected for primary beam attenuation.

      For  Mosaics,  command  CLEAN produces a SKY brightness map, corrected
    from primary beam attenuations.

\end{verbatim}
\subsubsection{BUFFERS CLIPPED}
\index{BUFFERS!CLIPPED}
\begin{verbatim}
          CLIPPED is a 2-D table containing the Clipped spectra produced  by
    command  UV_PREVIEW. Col 1 contains the Velocity, Cols 2:N+1 the spectra
    for the N tapers used in UV_PREVIEW, Col N+2 the natural weights.

\end{verbatim}
\subsubsection{BUFFERS CONTINUUM}
\index{BUFFERS!CONTINUUM}
\begin{verbatim}
          CONTINUUM contains the pseudo-UV table used (and created) by  com-
    mand  UV_MAP /CONT to construct the continuum image. See command UV_CON-
    TINUUM for details.

\end{verbatim}
\subsubsection{BUFFERS DIRTY}
\index{BUFFERS!DIRTY}
\begin{verbatim}
          DIRTY contains the dirty image produced by UV_MAP. Its interpreta-
    tion is different for a Single field than for a Mosaic.

\end{verbatim}
\subsubsection{BUFFERS EXTRACTED}
\index{BUFFERS!EXTRACTED}
\begin{verbatim}
          EXTRACTED   contains the 3-D data cube produced by command EXTRACT

\end{verbatim}
\subsubsection{BUFFERS FIELDS}
\index{BUFFERS!FIELDS}
\begin{verbatim}
          FIELDS  is an intermediate buffer created by SHOW PRIMARY. It is a
    transposed version of the PRIMARY buffer, in order (l,m,f)  where  f  is
    the field number.

      Note:  there  is a confusion with the FIELDS structure created by READ
    UV on Mosaic UV tables.

\end{verbatim}
\subsubsection{BUFFERS MASK}
\index{BUFFERS!MASK}
\begin{verbatim}
          MASK contains the Mask computed by command MASK (or read  by  READ
    MASK).   It  may  be  used (or not) for CLEAN, depending on the selected
    type of Support (see SUPPORT /MASK and MASK USE commands).

M0
            M0 computed by command MOMENTS   (CASA 0-th moment)

MPEAK
            MPEAK is a 2-D image containing the peak flux computed  by  com-
    mand MOMENTS   (CASA 8-th moment)

MLO
            MLO is a 2-D image containing the mean velocity computed by com-
    mand MOMENTS. Its value depends on the method used in  command  MOMENTS:
    it can be the 1-st moment, or a fit of the peak velocity.

MWIDTH
            MWIDTH is a 2-D image containing the velocity dispersion comput-
    ed by command MOMENTS. It is equivalent to the Full Width at Half  Maxi-
    mum is the line shape is Gaussian.

\end{verbatim}
\subsubsection{BUFFERS PRIMARY}
\index{BUFFERS!PRIMARY}
\begin{verbatim}
          PRIMARY  is  the primary beam, computed by command PRIMARY or read
    by command READ PRIMARY. It may be 2-D (for single fields) or  3-D  (for
    Mosaics).  It  the later case, it is in the order (f,l,m) where f is the
    field number.

\end{verbatim}
\subsubsection{BUFFERS RESIDUAL}
\index{BUFFERS!RESIDUAL}
\begin{verbatim}
          RESIDUAL is the image of the residuals from the  Clean  deconvolu-
    tion.


\end{verbatim}
\subsubsection{BUFFERS SINGLE}
\index{BUFFERS!SINGLE}
\begin{verbatim}
          SINGLE  is  the  Single-Dish data read by command READ SINGLE.  It
    may be a Class-table or a 3-D data cube.

\end{verbatim}
\subsubsection{BUFFERS SKY}
\index{BUFFERS!SKY}
\begin{verbatim}
          SKY is a 3-D image buffer containing the current estimate  of  the
    Sky  brightness distribution. It is provided by command PRIMARY from the
    CLEAN and PRIMARY buffers for single-field data, but  by  command  CLEAN
    for Mosaics.  Noise is not uniform in SKY image.

SLICE
          SLICE is 2-D buffer produced by the SLICE command.

SPECTRUM
          SPECTRUM  is  a 2-D table containing the  spectra produced by com-
    mand UV_PREVIEW. Col 1 contains the Velocity, Cols 2:N+1 the spectra for
    the N tapers used in UV_PREVIEW, Col N+2

\end{verbatim}
\subsubsection{BUFFERS UV}
\index{BUFFERS!UV}
\begin{verbatim}
          UV is the current UV data. It is initially set by command READ UV,
    but modified by many UV_like commands (resampling, calibration, etc...)

\end{verbatim}
\subsubsection{BUFFERS UV\_FIT}
\index{BUFFERS!UV\_FIT}
\begin{verbatim}
          UV_FIT handles the results of the UV_FIT command. It is a  special
    format 2-D table. See HELP UV_FIT for details.

\end{verbatim}
\subsubsection{BUFFERS UVCONT}
\index{BUFFERS!UVCONT}
\begin{verbatim}
          UVCONT handles the intermediate (pseudo-)UV table created and used
    by command UV_MAP /CONT for Multi-Frequency-Synthesis. It is a valid 2-D
    UV  table,  but  which have more than 1 visibility for the same time and
    baseline pair,  with  different  (frequency-scaled)  (u,v)  coordinates.
    Such UV tables can be properly imaged, but not properly self-calibrated.

\end{verbatim}
\subsubsection{BUFFERS UVRADIAL}
\index{BUFFERS!UVRADIAL}
\begin{verbatim}
          UVRADIAL   handles  an azimutally averaged version of the UV data.
    It is produced by command UV_RADIAL.

\end{verbatim}
\subsubsection{BUFFERS WEIGHT}
\index{BUFFERS!WEIGHT}
\begin{verbatim}
          WEIGHT is the equivalent of PRIMARY for Mosaics. It is a 2 or  3-D
    image  buffer containing the relative response given by all pointings of
    the Mosaic coverage.


\end{verbatim}
\subsection{CLEAN}
\index{CLEAN}
\begin{verbatim}
        [CLEAN\]CLEAN [FirstPlane [LastPlane]] [/PLOT Clean|Residu]
      [/FLUX Fmin Fmax] [/QUERY] [/NITER NiterList] [/ARES AresList]

    Deconvolve a Mosaic or Single-field using the  current  METHOD  (in  SIC
    variable  METHOD).  See INPUT CLEAN for the other SIC variables control-
    ling the deconvolution process.  Supported methods  are  CLARK,  HOGBOM,
    MRC, MULTISCALE and SDI. Use HELP CLEAN Method and/or HELP CLEAN METHOD-
    NAME for further details on each algorithm.

    Clean the specified plane interval (default:  planes  between  variables
    FIRST and LAST). If only FirstPlane is specified, Clean only that plane.
    This command allows a per-plane definition of the  convergence  criteria
    CLEAN_NITER and CLEAN_ARES.

    The user can control the algorithm through SIC variables. New values can
    be given using "LET VARIABLE value". For ease of use, and whenever it is
    possible,  a sensible value of each parameter will automatically be com-
    puted from the context if the value of the corresponding variable is set
    to  its default value, i.e. zero value and empty string. A few variables
    are initialized to "reasonable" values.

        [CLEAN\]CLEAN ?
    Will list all main CLEAN_* variables controlling  the  CLEAN  parameters
    for the current METHOD.

    HELP CLEAN Variables will give a more complete list.

\end{verbatim}
\subsubsection{CLEAN /FLUX}
\index{CLEAN!/FLUX}
\begin{verbatim}
        [CLEAN\]CLEAN   [FirstPlane[LastPlane]]   /FLUX   Fmin  Fmax  [/PLOT
    Clean|Residu] [/QUERY] [/NITER NiterList] [/ARES AresList]

    Display the cumulative Clean flux as Clean progresses.  This  option  is
    inactive in Parallel mode.

\end{verbatim}
\subsubsection{CLEAN /PLOT}
\index{CLEAN!/PLOT}
\begin{verbatim}
        [CLEAN\]CLEAN  [FirstPlane  [LastPlane]]  /PLOT  Clean|Residu [/FLUX
    Fmin Fmax] [/QUERY] [/NITER NiterList] [/ARES AresList]

    Display the iterated Clean or Residual image for Cleaning methods  which
    have  major  cycles  (CLARK or SDI). This option is inactive in Parallel
    mode.

\end{verbatim}
\subsubsection{CLEAN /QUERY}
\index{CLEAN!/QUERY}
\begin{verbatim}
        [CLEAN\]CLEAN [FirstPlane  [LastPlane]]  /PLOT  Clean|Residu  /QUERY
    [/FLUX Fmin Fmax] [/NITER NiterList] [/ARES AresList]

    *** Obsolescent ***

    Prompt  for  continuation when a Major cycle is complete. This option is
    inactive in Parallel mode.

\end{verbatim}
\subsubsection{CLEAN /NITER}
\index{CLEAN!/NITER}
\begin{verbatim}

        [CLEAN\]CLEAN  [FirstPlane  [LastPlane]]  /NITER  NiterList   [/PLOT
    Clean|Residu] [/FLUX Fmin Fmax] [/QUERY] [/ARES AresList]

    Use a per-plane value for the number of iterations, instead of the glob-
    al NITER variable.  NiterList should be a 1-D integer array of dimension
    the number of channels.

    This option is only available through the CLEAN command, not through the
    specific command of each method.

\end{verbatim}
\subsubsection{CLEAN /ARES}
\index{CLEAN!/ARES}
\begin{verbatim}

        [CLEAN\]CLEAN  [FirstPlane  [LastPlane]]   /ARES   AresList   [/PLOT
    Clean|Residu] [/FLUX Fmin Fmax] [/QUERY] [/NITER NiterList]

    Use  a  per-plane value for the absolute residual used to stop cleaning,
    instead of the global ARES variable.  AresList should be a 1-D real  ar-
    ray of dimension the number of channels.



\end{verbatim}
\subsubsection{CLEAN Methods:}
\index{CLEAN!Methods:}
\begin{verbatim}
      CLARK       A minor/major cycle cleaning using FFTs for speed
                  Fast, but less stable than others.
      HOGBOM      The basic deconvolution method, working component per
                  component. Slow but robust
      MRC         A (2-scales) multi-resolution-Clean working on a smooth
                  and a difference map. Fast, but with no notions of Clean
                  components
      MULTISCALE  A 3-scales multi-resolution-Clean working on 3 smoothed
                  versions of the map. Slow, but very stable and adapted to
                  sources with extended structures.
      SDI         A major-cycle only method. Good for extended structures
                  but not very performant overall.
\end{verbatim}
\subsubsection{CLARK}
\index{CLEAN!CLARK}
\begin{verbatim}
          CLEAN  [FirstPlane  [LastPlane]]  [/PLOT Clean|Residu] [/FLUX Fmin
    Fmax] [/QUERY]

    with METHOD = CLARK

    A Major-Minor cycles CLEAN method, originally developed by  B.Clark,  in
    which  clean components are selected using a limited beam patch, and de-
    convolved through Fourier transform at each major cycle. In mosaic  mode
    (See  command MOSAIC), a mosaic clean is performed. Rings and/or stripes
    may appear on extended sources.  Faster than the HOGBOM method for  sin-
    gle  fields  but  maybe  slower  for mosaics. The strategy to search for
    CLEAN components in CLARK method does not work properly  when  the  sec-
    ondary  side  lobes  are too large (e.g. larger than 0.3), or in case of
    high phase noise.

\end{verbatim}
\subsubsection{HOGBOM}
\index{CLEAN!HOGBOM}
\begin{verbatim}
          CLEAN [FirstPlane [LastPlane]] [/FLUX Fmin Fmax]

    with METHOD = CLEAN

    The simplest CLEAN algorithm, originally developed by Hogbom. In  mosaic
    mode  (See  command  MOSAIC), a mosaic clean is performed.  Rings and or
    stripes may appear on extended sources. It is slower than  CLARK  for  a
    single  field  but  maybe  faster  for a mosaic. It is extremely robust.
    Cleaning can be interrupted by pressing C at any time.

\end{verbatim}
\subsubsection{MRC}
\index{CLEAN!MRC}
\begin{verbatim}
        CLEAN [FirstPlane  [LastPlane]]  [/PLOT  Clean|Residu]  [/FLUX  Fmin
    Fmax] [/QUERY]

    with Method = MRC

    Perform  a  Multi-Resolution CLEAN on the current dirty image.  MRC does
    not support mosaics for theoretical reasons.

    If option /PLOT is given, a display of the CLEAN or RESIDUAL map will be
    shown  at  each major cycle, depending on the argument (default: Residu-
    al). The user will be prompted for continuation when the  /QUERY  option
    is  present.  The  cumulative, already cleaned flux is displayed in real
    time in an additional window while cleaning goes on when the  /FLUX  op-
    tion  is  present.  Parameters of the /FLUX option are then used to give
    the flux limits for this display. A summary plot  with  the  Difference,
    Smooth, and total CLEANed maps is also displayed.


\end{verbatim}
\subsubsection{MULTI}
\index{CLEAN!MULTI}
\begin{verbatim}
        CLEAN [FirstPlane [LastPlane]] [/FLUX Fmin Fmax]

    with METHOD = MULTI

    Perform  a  3-scales  Hogbom-like deconvolution. A each minor cycle, the
    the scale with the highest signal to noise is used to define  the  Clean
    Components  to  retain.  The algorithm is thus very stable.  The cumula-
    tive, already  cleaned flux is displayed in real time in  an  additional
    window  while cleaning goes on when the /FLUX option is present. Parame-
    ters of the /FLUX option are then used to give the flux limits for  this
    display.

    MULTI does not yet work on mosaics.

\end{verbatim}
\subsubsection{SDI}
\index{CLEAN!SDI}
\begin{verbatim}
        CLEAN  [FirstPlane  [LastPlane]]  [/PLOT  Clean|Residu]  [/FLUX Fmin
    Fmax] [/QUERY]

    with METHOD = SDI

    Perform a Steer-Dewdney-Ito CLEAN. This clean method selects an ensemble
    of  clean  components and remove them at once using FFTs.  It works best
    for extended sources and UV coverages with short  spacings.  In  such  a
    case,  it  may avoid the "ringing" features which appear using the CLARK
    or HOGBOM techniques. In mosaic mode  (see  command  MOSAIC),  a  mosaic
    clean is performed.

\end{verbatim}
\subsubsection{Variables:}
\index{CLEAN!Variables:}
\begin{verbatim}
        Basic CLEAN parameters
    CLEAN_GAIN       [       ] Loop gain
    CLEAN_NITER      [       ] Maximum number of clean components
    CLEAN_FRES       [      %] Maximum value of residual (Fraction of peak)
    CLEAN_ARES       [Jy/Beam] Maximum value of residual (Absolute)
    CLEAN_POSITIVE   [       ] Minimum number of positive components at start
    CLEAN_NKEEP      [       ] Min number of components before convergence

    Old names like in MAPPING
    BLC              [  pixel] Bottom left corner of cleaning box
    TRC              [  pixel] Top right corner of cleaning box
    MAJOR            [ arcsec] Clean beam major axis
    MINOR            [ arcsec] Clean beam minor axis
    ANGLE            [ degree] Position angle of clean beam
    BEAM_PATCH       [  pixel] Size of cleaning beam ** not clear **

    Method dependent CLEAN parameters
    CLEAN_INFLATE    [      ] Maximum Inflation factor for UV_RESTORE (MULTISCAL
    CLEAN_NCYCLE     [      ] Max number of Major Cycles (SDI & CLARK methods)
    CLEAN_NGOAL      [      ] Max number of comp. in Cycles (ALMA method)
    CLEAN_RATIO      [      ] Smoothing factor (MRC default 0: guess, otherwise
    CLEAN_RESTORE    [      ] Threshold for restoring a Mosaic (def 0.2)
    CLEAN_SEARCH     [      ] Threshold to search Clean Comp. in a Mosaic (def 0
    CLEAN_SIDELOBE   [      ] Min threshold to fit the synthesized beam
    CLEAN_SMOOTH     [      ] Smoothing ratio: MRC (def 2 or 4)  and MULTISCALE
    CLEAN_SPEEDY     [      ] Speed-up factor (CLARK)
    CLEAN_WORRY      [      ] Worry factor (CLARK and MULTISCALE)

\end{verbatim}
\subsubsection{CLEAN\_ARES}
\index{CLEAN!CLEAN\_ARES}
\begin{verbatim}

    This is the minimal flux in the dirty map that the program will consider
    as significant.  Alternatively, the threshold  can  be  specified  as  a
    fraction  of  the  peak flux using CLEAN_FRES.  Once this level has been
    reached the program stops subtracting, and starts the restoration phase.
    The  unit  for  this parameter is the map unit (typically Jy/Beam).  The
    parameter should usually be of the order of magnitude  of  the  expected
    noise in the clean map.

    If 0, CLEAN_FRES will be used instead. If all of CLEAN_NITER, CLEAN_ARES
    and CLEAN_FRES are 0, an absolute residual equal to the noise level will
    be used for CLEAN_ARES.

    Short form is ARES.

    This  may  be  overseded  by  the /ARES option which imposes a limit per
    plane through an array of values.

\end{verbatim}
\subsubsection{CLEAN\_FRES}
\index{CLEAN!CLEAN\_FRES}
\begin{verbatim}

    This is the minimal fraction of the peak flux in the dirty map that  the
    program  will  consider  as  significant.   Alternatively,  an  absolute
    threshold can be specified using CLEAN_ARES.  Once this level  has  been
    reached the program stops subtracting, and starts the restoration phase.
    This parameter is normalized to 1 (neither in % nor in db).   It  should
    usually  be of the order of magnitude of the inverse of the expected dy-
    namic range of the intensity.

    If 0, CLEAN_ARES will be used instead. If all of CLEAN_NITER, CLEAN_ARES
    and CLEAN_FRES are 0, an absolute residual equal to the noise level will
    be used for CLEAN_ARES.

    Short form is FRES.

\end{verbatim}
\subsubsection{CLEAN\_GAIN}
\index{CLEAN!CLEAN\_GAIN}
\begin{verbatim}

    This is the gain of the subtraction loop.  It should typically be chosen
    in the range 0.05 and 0.3.  Higher values give faster convergence, while
    lower values give a better restitution of the extended structure. A sen-
    sible default is 0.2.

    Short form is GAIN.

\end{verbatim}
\subsubsection{CLEAN\_NITER}
\index{CLEAN!CLEAN\_NITER}
\begin{verbatim}

    This is the maximum number of components the program will accept to sub-
    tract.  Once it has been reached, the  program  starts  the  restoration
    phase.

    If 0, the program will guess a number, based on the image size and maxi-
    mum signal-to-noise  ratio,  and  specified  residual  level  CLEAN_ARES
    and/or CLEAN_FRES.

    Short form is NITER.

    This  may  be  overseded  by the /NITER option which imposes a limit per
    plane through an array of values.

\end{verbatim}
\subsubsection{CLEAN\_NKEEP}
\index{CLEAN!CLEAN\_NKEEP}
\begin{verbatim}

    This is an integer specifying the minimum number of Clean components be-
    fore  testing if Cleaning has converged. The convergence is criterium is
    a comparison of the cumulative flux evolution separated  by  CLEAN_NKEEP
    components. If th

    IF  CLEAN_NKEEP  is 0, CLEAN will ignore this convergence criterium, and
    continue clean until the CLEAN_NITER, CLEAN_ARES or CLEAN_FRES  criteria
    indicate to stop.

    With  CLEAN_NKEEP  >  0,  CLEAN  will explore the stability of the total
    clean flux over the last CLEAN_NKEEP  iterations. For a positive  (resp.
    negative)  source, if the Clean flux becomes smaller (resp. larger) than
    the Clean flux CLEAN_NKEEP iterations earlier, CLEAN will stop.

    Using CLEAN_NKEEP about 70 is a reasonable value.   Some  special  cases
    (faint extended sources) may require larger values of CLEAN_NKEEP.

\end{verbatim}
\subsubsection{CLEAN\_POSITIVE}
\index{CLEAN!CLEAN\_POSITIVE}
\begin{verbatim}

    The  minimum  number of positive components before negative ones are se-
    lected.

\end{verbatim}
\subsubsection{CLEAN\_RESTORE}
\index{CLEAN!CLEAN\_RESTORE}
\begin{verbatim}

      Fraction of peak response of the primary beams  coverage  under  which
    the Sky brightness image is blanked in a Mosaic deconvolution.

    The default is 0.2.

\end{verbatim}
\subsubsection{CLEAN\_SEARCH}
\index{CLEAN!CLEAN\_SEARCH}
\begin{verbatim}


      Fraction  of  peak response of the primary beams coverage beyond which
    no Clean component is searched in a Mosaic deconvolution.

    The default is 0.2.

\end{verbatim}
\subsubsection{CLEAN\_SIDELOBE}
\index{CLEAN!CLEAN\_SIDELOBE}
\begin{verbatim}

    Minimal relative intensity to consider for fitting the  syntheized  beam
    to  obtain  the  Clean  beam parameters (MAJOR, MINOR and ANGLE) when 0.
    The default is 0.35.

    In case of poor UV coverage, CLEAN_SIDELOBE should be  higher  than  the
    maximum sidelobe level to perform a good Gaussian fit. Some particularly
    bad UV coverage may not allow any good fit at all, however.

\end{verbatim}
\subsubsection{CLEAN\_NGOAL}
\index{CLEAN!CLEAN\_NGOAL}
\begin{verbatim}

      Number of clean components to be selected in a Cycle in the ALMA  het-
    erogeneous array cleaning method.

\end{verbatim}
\subsubsection{CLEAN\_NCYCLE}
\index{CLEAN!CLEAN\_NCYCLE}
\begin{verbatim}

      Maximum number of Major Cycles for the SDI and CLARK methods.

\end{verbatim}
\subsubsection{CLEAN\_SMOOTH}
\index{CLEAN!CLEAN\_SMOOTH}
\begin{verbatim}

      Smoothing  factor  between  different scales in the MRC and MULTISCALE
    methods.  The default is 2 or 4 for MRC depending on image size.  It  is
    sqrt(3) for MULTISCALE and may be set to larger values if needed.

\end{verbatim}
\subsubsection{CLEAN\_SPEEDY}
\index{CLEAN!CLEAN\_SPEEDY}
\begin{verbatim}

      Speed-up factor for the CLARK major cycles. The default is 1.0.  Larg-
    er values may be used, but at the expense of possible  instabilities  of
    the algorithm.

\end{verbatim}
\subsubsection{CLEAN\_WORRY}
\index{CLEAN!CLEAN\_WORRY}
\begin{verbatim}

      Worry  factor  in the MULTISCALE method for convergence. It propagates
    the S/N from one iteration to the other, so that if this  S/N  degrades,
    the  method  stops.  Default  is 0 (no propagation, and hence no test on
    S/N).  The value should be < 1.0 in all cases.

\end{verbatim}
\subsubsection{CLEAN\_INFLATE}
\index{CLEAN!CLEAN\_INFLATE}
\begin{verbatim}

      Maximum Inflation factor for UV_RESTORE (MULTISCALE method).   If  the
    number  of  true (i.e. pixel based) Clean components found by MULTISCALE
    is larger than CLEAN_INFLATE times the number of compressed (i.e.  those
    with the smoothing factor information) components, expansion of the com-
    pressed components will not be possible, and UV_RESTORE will not be use-
    able.

      A  default  of  50  is in general adequate.  Better solutions might be
    found in the future, and this parameter suppressed.  Apart  from  memory
    usage, this number has no consequence on the algorithm.

\end{verbatim}
\subsubsection{METHOD}
\index{CLEAN!METHOD}
\begin{verbatim}

      Method used for the deconvolution. Can be HOGBOM, MULTI, MRC,
      SDI or CLARK.


\end{verbatim}
\subsubsection{Old\_Names:}
\index{CLEAN!Old\_Names:}
\begin{verbatim}

      Some  of the CLEAN parameters have kept their old names: MAJOR, MINOR,
    ANGLE (which are also used by  command  FIT)  BLC,  TRC  and  BEAM_PATCH
    (which are seldom used)

      Others  have equivalent short names: ARES, FRES, GAIN, NITER for which
    the CLEAN_ prefix may be omitted.

\end{verbatim}
\subsubsection{BLC}
\index{CLEAN!BLC}
\begin{verbatim}

    These are the (pixel) coordinates of  the  Bottom  Left  Corner  of  the
    cleaning   box.   The  default  (0,0)  means  the  bottom  left  quarter
    (Nx/4,Ny/4).  If a SUPPORT is defined, BLC is ignored.

\end{verbatim}
\subsubsection{TRC}
\index{CLEAN!TRC}
\begin{verbatim}

    These are the (pixel) coordinates of the Top Right Corner of the  clean-
    ing box.  The default (0,0) means the top right quarter (3*Nx/4,3*Ny/4).
    If a SUPPORT is defined, TRC is ignored.

\end{verbatim}
\subsubsection{MAJOR}
\index{CLEAN!MAJOR}
\begin{verbatim}

    This is the major axis  (FWHP)  in  user  coordinates  of  the  Gaussian
    restoring beam. If 0, the program will fit a Gaussian to the dirty beam.
    We strongly discourage to change the default value of 0.

\end{verbatim}
\subsubsection{MINOR}
\index{CLEAN!MINOR}
\begin{verbatim}

    This is the minor axis  (FWHP)  in  user  coordinates  of  the  Gaussian
    restoring beam. If 0, the program will fit a Gaussian to the dirty beam.
    We strongly discourage to change the default value of 0.

\end{verbatim}
\subsubsection{ANGLE}
\index{CLEAN!ANGLE}
\begin{verbatim}

    This is the position angle (from North towards East, i.e. anticlockwise)
    of  the  major  axis of the Gaussian restoring beam (in degrees).  If 0,
    the program will fit a Gaussian to the dirty beam. We strongly  discour-
    age to change the default value of 0.

\end{verbatim}
\subsubsection{BEAM\_PATCH}
\index{CLEAN!BEAM\_PATCH}
\begin{verbatim}

    The  dirty  beam  patch to be used for the minor cycles in CLARK and MRC
    method.  It should be large enough to avoid doing too many major cycles,
    but  has  practically  no  influence on the result.  This size should be
    specified in pixel units.  Reasonable values are between  N/8  and  N/4,
    where N is the number of map pixels in the same dimension.  If set to N,
    the CLARK algorithm becomes identical to the HOGBOM algorithm.



\end{verbatim}
\subsection{COLOR}
\index{COLOR}
\begin{verbatim}

          COLOR Range [MinHue MaxHue]

    Select a color Look-up-Table ranging between MinHue and MaxHue  (in  the
    [0,360]  domain).  Range  (in the same units) indicate a part of the LUT
    which  becomes progressively whiter (less  saturation,  Range  <  0)  or
    darker  (less  intensity, Range > 0) around the colour defining the Zero
    level of the image.

    Such LUTs allow to outline the Signal-containing regions compared to the
    noise level, either in bright (Range < 0) or dark (Range > 0) modes.

\end{verbatim}
\subsection{DUMP}
\index{DUMP}
\begin{verbatim}
        [CLEAN\]DUMP [U]

    Dump  on screen the control parameters of the different CLEAN deconvolu-
    tion algorithms, mainly for debugging purpose. "DUMP U" dumps the param-
    eters as input by the user while "DUMP" dumps the parameters really used
    and/or modified by the deconvolution algorithm.

\end{verbatim}
\subsection{FIT}
\index{FIT}
\begin{verbatim}
        [CLEAN\]FIT [Field]

    Fit the dirty beam to obtain the clean beam parameters.   This  is  done
    automatically  by  all CLEAN algorithm when needed.  In mosaic mode, you
    can specify on which field the fit has to be made, using the first argu-
    ment.

    Fixed  values: Clean beam parameters can also be specified by the users,
    by setting the variables MAJOR, MINOR and ANGLE  to  values  other  than
    their  default  values  (0,0,0).  In this case, no automatic fit will be
    performed. We strongly discourage the use of those variables, which  may
    result  in  a very improper flux scaling if the beam size is inappropri-
    ate. This mode should be reserved to special cases where the beam cannot
    be  properly  fitted,  or to have a circular beam by taking as beam size
    the geometrical mean of the fitted major and minor sizes.

\end{verbatim}
\subsubsection{FIT CLEAN\_SIDELOBE}
\index{FIT!CLEAN\_SIDELOBE}
\begin{verbatim}

    Minimal relative intensity to consider for fitting the  syntheized  beam
    to  obtain  the  Clean  beam parameters (MAJOR, MINOR and ANGLE) when 0.
    The default is 0.30.

    In case of poor UV coverage, CLEAN_SIDELOBE should be  higher  than  the
    maximum sidelobe level to perform a good Gaussian fit. Some particularly
    bad UV coverage may not allow any good fit at all, however.

\end{verbatim}
\subsection{INSPECT\_3D}
\index{INSPECT\_3D}
\begin{verbatim}
        [CLEAN\]INSPECT_3D Argument [FirstPlane [LastPlane]]

    where
        is the the name of a 3-D internal buffer to be plotted  (BEAM,  CCT,
    CLEAN,  DIRTY,  FIELDS,  MASK,  etc.. ), or any Sic Image variable, or a
    file name.

    Simultaneously display cuts along each of main cube directions, as  well
    as  the current spectrum. Coordinates are controlled by the cursor posi-
    tion in the plots.

\end{verbatim}
\subsubsection{INSPECT\_3D History}
\index{INSPECT\_3D!History}
\begin{verbatim}

    INSPECT_3D is a command equivalent of GO 3VIEW, just with a simpler syn-
    tax and the ability to display program buffers as well as files.


\end{verbatim}
\subsection{MAP\_COMPRESS}
\index{MAP\_COMPRESS}
\begin{verbatim}
        [CLEAN\]MAP_COMPRESS WhichOne Nc

    Resample  (in  frequency/velocity)  the  images  (computed  by UV_MAP or
    CLEAN, or loaded by READ WhichOne) by averaging NC adjacent channels.

    WhichOne indicates which image must be compressed (DIRTY,  CLEAN,  SKY).
    WHichOne = * can be used to treat all the possible images.

\end{verbatim}
\subsection{MAP\_INTEGRATE}
\index{MAP\_INTEGRATE}
\begin{verbatim}
        [CLEAN\]MAP_INTEGRATE WhichOne Min Max Type

    Compute  the  integrated  intensity map(s) over the specified range from
    the current image()s (computed by UV_MAP or CLEAN,  or  loaded  by  READ
    WhichOne). Type can be VELOCITY FREQUENCY or CHANNELS.

    WhichOne  indicates  which image must be compressed (DIRTY, CLEAN, SKY).
    WhichOne = * can be used to treat all the possible images.

\end{verbatim}
\subsection{MAP\_RESAMPLE}
\index{MAP\_RESAMPLE}
\begin{verbatim}
        [CLEAN\]MAP_RESAMPLE WhichOne Nc Ref Val Inc

    Resample the images (computed by UV_MAP or CLEAN, or loaded by READ  Wi-
    chOne) on a different velocity scale.
         Nc   new number of channels
         Ref  New reference pixel
         Val  New velocity at reference pixel
         Inc  Velocity increment
    WhichOne  indicates  which  image must be compressed (DIRTY, CLEAN, SKY)
    WHichOne = * can be used to treat all the possible images.

\end{verbatim}
\subsection{SPECIFY}
\index{SPECIFY}
\begin{verbatim}
        [CLEAN\]SPECIFY FREQUENCY|VELOCITY|TELESCOPE Value

        SPECIFY FREQUENCY Value
    Modify the rest frequency and recompute the velocity scale  accordingly.
    Value is the new rest frequency in MHz

        SPECIFY VELOCITY Value
    Modify  the  source  velocity and recompute the rest frequency scale ac-
    cordingly Value is the new velocity in km/s.

        SPECIFY TELESCOPE Name

    Add or Replace the telescope section with the  parameters  (name,  size,
    position)  for the specified telescope name, essentially to get the most
    appropriate beam parameter.

    A Telescope section is required for MOSAIC. The beamsize will depend  on
    telescope diameter and frequency, with a telescope dependent factor. The
    default beam size is 1.13 Lambda/D.

\end{verbatim}
\subsection{MOSAIC}
\index{MOSAIC}
\begin{verbatim}
        [CLEAN\]MOSAIC On|Off

    Turn on or off the mosaic mode for deconvolution. Note that a READ  PRI-
    MARY command, or a UV_MAP command working on a Mosaic UV Table, automat-
    ically switches on the mosaic mode. The program prompt changes to inform
    the user of the current operating mode for deconvolution.


\end{verbatim}
\subsection{MX}
\index{MX}
\begin{verbatim}
        [CLEAN\]MX [FirstPlane [LastPlane]] [/PLOT Clean|Residu] [/FLUX Fmin
    Fmax] [/QUERY]

    Make and deconvolve maps starting from a UV table.  It  combines  UV_MAP
    and CLEAN in a single step.

    The mapping process is identical to UV_MAP.  It makes a map from UV data
    by griding the UV data using a convolving function, and then Fast Fouri-
    er  Transforming the individual channels.  However, MX always produces a
    single beam for all channels, thus neglecting frequency  change  between
    channels.   MX  enables to shift the map center and rotate the image, by
    shifting the phase tracking center and rotating the  UV  coordinates  of
    the input UV table.

    The  CLEAN  algorithm is similar to the CLARK method, but with major cy-
    cles operating directly on the ungridded UV table rather than in the im-
    age  plane. Accordingly, aliasing affects only of the residuals, not the
    clean components. It is thus more accurate but also slower than CLARK as
    it  asks  for the gridding step at each major cycle.  MX also shares the
    same limitation as CLARK on large sidelobes.

    The user can control the algorithm through SIC variables. New values can
    be given using "LET VARIABLE value". For ease of use, and whenever it is
    possible, a sensible value of each parameter will automatically be  com-
    puted from the context if the value of the corresponding variable is set
    to its default value, i.e. zero value and empty string. A few  variables
    are initialized to "reasonable" values.

        [CLEAN\]CLEAN ?
    Will  list  all  main CLEAN_* variables controlling the CLEAN parameters
    for the current METHOD.

    HELP CLEAN Variables will give a more complete list.

                [CLEAN\MX ?
        Will list all MAP_* and CLEAN_ * variables controlling the MX param-
    eters.

\end{verbatim}
\subsubsection{MX Variables:}
\index{MX!Variables:}
\begin{verbatim}

        The list of control variables is (by alphabetic order, with the cor-
    responding old names used by Mapping on the right)

    New names       [   unit]       -- Description --    % Old Name
    MAP_BEAM_STEP   [       ]  Number of channels per single dirty beam
    MAP_CELL        [ arcsec]  Image pixel size
    MAP_CENTER      [ string]  RA, Dec of map center, and Position Angle
    MAP_CONVOLUTION [       ]  Convolution function     % CONVOLUTION
    MAP_FIELD       [ arcsec]  Map field of view
    MAP_POWER       [       ]  Maximum exponent of 3 and 5 allowed in MAP_SIZE
    MAP_PRECIS      [       ]  Fraction of pixel tolerance on beam matching
    MAP_ROBUST      [       ]  Robustness factor        % UV_CELL[2]
    MAP_ROUNDING    [       ]  Precision of MAP_SIZE
    MAP_SIZE        [       ]  Number of pixels
    MAP_TAPEREXPO   [       ]  Taper exponent           % TAPER_EXPO
    MAP_TRUNCATE    [      %]  Mosaic truncation level
    MAP_UVCELL      [      m]  UV cell size             % UV_CELL[1]
    MAP_UVTAPER     [m,m,deg]  Gaussian taper           % UV_TAPER
    MAP_VERSION     [       ]  Code version (0 new, -1 old)


    Basic CLEAN parameters
    CLEAN_GAIN       [       ] Loop gain
    CLEAN_NITER      [       ] Maximum number of clean components
    CLEAN_FRES       [      %] Maximum value of residual (Fraction of peak)
    CLEAN_ARES       [Jy/Beam] Maximum value of residual (Absolute)
    CLEAN_POSITIVE   [       ] Minimum number of positive components at start
    CLEAN_NKEEP      [       ] Min number of components before convergence

    Old names like in MAPPING
    BLC              [  pixel] Bottom left corner of cleaning box
    TRC              [  pixel] Top right corner of cleaning box
    MAJOR            [ arcsec] Clean beam major axis
    MINOR            [ arcsec] Clean beam minor axis
    ANGLE            [ degree] Position angle of clean beam
    BEAM_PATCH       [  pixel] Size of cleaning beam ** not clear **

    Method dependent CLEAN parameters
    CLEAN_INFLATE    [      ] Maximum Inflation factor for UV_RESTORE (MULTISCAL
    CLEAN_NCYCLE     [      ] Max number of Major Cycles (SDI & CLARK methods)
    CLEAN_NGOAL      [      ] Max number of comp. in Cycles (ALMA method)
    CLEAN_RATIO      [      ] Smoothing factor (MRC default 0: guess, otherwise
    CLEAN_RESTORE    [      ] Threshold for restoring a Mosaic (def 0.2)
    CLEAN_SEARCH     [      ] Threshold to search Clean Comp. in a Mosaic (def 0
    CLEAN_SIDELOBE   [      ] Min threshold to fit the synthesized beam
    CLEAN_SMOOTH     [      ] Smoothing ratio: MRC (def 2 or 4)  and MULTISCALE
    CLEAN_SPEEDY     [      ] Speed-up factor (CLARK)
    CLEAN_WORRY      [      ] Worry factor (CLARK and MULTISCALE)

\end{verbatim}
\subsection{PRIMARY}
\index{PRIMARY}
\begin{verbatim}
        [CLEAN\]PRIMARY [BeamSize] [/TRUNCATE Percent]

    Apply approximate primary beam correction to a single field  deconvolved
    (CLEAN)  image, in order to create the sky brightness image (named SKY).
    The primary beam model is a simple Gaussian.

    If BeamSize (in radian) is specified, uses the corresponding  half-power
    beam size to determine the Gaussian beam.

    If not, the parameters are taken from the telescope parameters, as found
    in the telescope section of the CLEAN image and the observing  frequency
    from the CLEAN image (e.g. for ALMA it uses 1.13 Lambda/D).

    The SKY image is written with extension .lmv-sky by command WRITE.


\end{verbatim}
\subsubsection{PRIMARY /TRUNCATE}
\index{PRIMARY!/TRUNCATE}
\begin{verbatim}
        [CLEAN\]PRIMARY [BeamSize] /TRUNCATE Percent

    Specify  the  truncation  level. Default (in % of peak beam response) is
    given by the MAP_TRUNCATE variable.  Values are blanked beyond this.

\end{verbatim}
\subsection{READ}
\index{READ}
\begin{verbatim}
        [CLEAN\]READ Buffer File [/COMPACT] [/FREQUENCY RestFreq]
      [/RANGE Min Max Type] [/NOTRAIL]

    Read the specified internal buffer (BEAM,  CCT,  CGAINS,  CLEAN,  DIRTY,
    MASK, MODEL, PRIMARY, RESIDUAL, SKY, SUPPORT, SINGLEDISH, UV) from input
    File.  Default extension is .uvt for UV, CGAINS and MODEL, and  for  the
    others,  in order, .beam, .cct, .lmv-clean, .lmv, .msk, .lobe, .lmv-res,
    be indicated through the /RANGE option, even for UV tables.

    The corresponding buffer is available as a SIC  image-like  variable  of
    the same name, so that one can use e.g. HEADER DIRTY command.

    READ  * Name   will attempt to read all existing files of same Name with
    the standard file types corresponding to the respective buffers.

    The MODEL UV table is for use in conjunction with commands in the  CALI-
    BRATE\ language.

    The  /COMPACT  option  is  used to load the ACA-specific internal buffer
    used in the ALMA joint deconvolution method.

    The /NOTRAIL allows to ignore trailing columns (normally not  recommend-
    ed. Used for debug only).

\end{verbatim}
\subsubsection{READ Buffers}
\index{READ!Buffers}
\begin{verbatim}
        [CLEAN\]READ Buffer File [/COMPACT]

      The recognized Buffer names for READ are:
      BEAM        Synthesized Dirty beam
      CCT         Clean Component list
      CGAINS      Complex gains for APPLY command
      CLEAN       Deconvolved Clean image
      DIRTY       Dirty image
      PRIMARY     Primary beam
      RESIDUAL    Residual image
      MASK        Spatial mask
      MODEL       UV table for Clean components
      SINGLEDISH  Single-Dish table or data cube
      SKY         Primary beam-corrected deconvolved sky brightness
      SUPPORT     Polygon enclosing the Support for Cleaning
      UV_DATA     UV data table
      UV_FIT      UV_FIT results table (for SHOW UVT)

    The following ones are allowed with the /COMPACT option
      BEAM        Synthesized Dirty beam
      DIRTY       Dirty image
      PRIMARY     Primary beam
      RESIDUAL    Residual image
      UV_DATA     UV data table

\end{verbatim}
\subsubsection{READ Optimisation}
\index{READ!Optimisation}
\begin{verbatim}

        Reading  can be lengthy, especially for ALMA data.  Mapping attempts
    to minimize read operations by checking if anything  has  changed  since
    the  last  command.   This capability is enable if the SIC variable MAP-
    PING_OPTIMIZE is non zero, disabled otherwise.
      Currently, the READ command always display a message about what  read-
    ing  may  have  been skipped, and whether this possible optimization has
    been overridden by user choice.

\end{verbatim}
\subsubsection{READ /COMPACT}
\index{READ!/COMPACT}
\begin{verbatim}
        [CLEAN\]READ Buffer File /COMPACT [/RANGE Min Max Type]

    Read the specified internal buffer (UV,  MODEL,  BEAM,  PRIMARY,  DIRTY,
    CLEAN, MASK, CCT) from input File to the "compact array" data area.

\end{verbatim}
\subsubsection{READ /FREQUENCY}
\index{READ!/FREQUENCY}
\begin{verbatim}
        [CLEAN\]READ Buffer File /FREQUENCY RestFreq [/RANGE Min Max Type]

    Read  the  specified internal buffer and reset the velocity scale to the
    corresponding rest frequencies. Velocities specified in the  /RANGE  Min
    Max VELOCITY option would then refer to this new frequency.

\end{verbatim}
\subsubsection{READ /NOTRAIL}
\index{READ!/NOTRAIL}
\begin{verbatim}
        [CLEAN\]READ  Buffer File /NOTRAIL [/FREQUENCY Freq] [/RANGE Min Max
    Type]

    When reading UV Tables, ignores any trailing  column.  Trailing  columns
    normally  appear  for mosaics. However, ALMA sometimes uses known proper
    motions to shift (by small amounts) phase centers between two  observing
    periods,  yielding  pseudo-mosaics  with tiny (in general insignificant)
    displacements.  The /NOTRAIL option allows to ignore these details.

\end{verbatim}
\subsubsection{READ /PLANES}
\index{READ!/PLANES}
\begin{verbatim}
        [CLEAN\]READ Buffer File /PLANES First Last

      ** OBSOLESCENT ** Use /RANGE for a simpler interface.

    Read only "channels" between First and Last.  For UV  tables  with  more
    than  1  Stokes  parameter, which are **NOT** fully supported by IMAGER,
    the meaning of "channel" is ambiguous.

\end{verbatim}
\subsubsection{READ /RANGE}
\index{READ!/RANGE}
\begin{verbatim}
        [CLEAN\]READ Buffer File /RANGE Min Max Type

    Load only the channels between the First and Last defined by Min Max and
    Type.  Type can be CHANNEL, VELOCITY or FREQUENCY.

    For  type CHANNEL, Min and Max indicate offsets from Channel 1 and Chan-
    nel Nchan (the number of channels in the data set). Thus Max can be neg-
    ative:  it then indicates Last = Nchan-Max. Also Min=0 and Max=0 implies
    loading all the channels.

\end{verbatim}
\subsubsection{READ SINGLE}
\index{READ!SINGLE}
\begin{verbatim}
        [CLEAN\]READ SINGLE File[.ext] [/RANGE Min Max Type]

    Read the "Single Dish" data set. It can be a Class table  (.tab),  or  a
    3-D data cube (.lmv).

    The /RANGE option only works for a .lmv data cube so far.


\end{verbatim}
\subsection{SHOW}
\index{SHOW}
\begin{verbatim}
        [CLEAN\]SHOW Argument [Arg1 [Arg2]]

    where
    Argument
        is  a Keyword (e.g. COVERAGE, NOISE, UV_FIT or MOMENTS), the name of
    an internal buffer to be plotted (BEAM, CCT, CLEAN, DIRTY,  etc..  ),  a
    2-D  or 3-D SIC image variable or datacube filename (in Gildas or simple
    FITS image format).

        [CLEAN\]SHOW ?
    will list the names of recognized keywords and buffers.

        Except for UV data where they have a different meaning,
    Arg1 and Arg2
        are optional arguments to restrict the range of channels to be plot-
    ted.  They  default to  FIRST and LAST variable values respectively, and
    Arg2 defaults to Arg1 if only Arg1 is specified.

    The UV data in the internal buffer is the one loaded by command READ  UV
    File and optionally resampled by UV_RESAMPLE, UV_COMPRESS or transformed
    by UV_CONT. Flagged UV data  will appear in a different color.

    Command VIEW offers a different style of display for  cubes,  NOISE  and
    CCT.

\end{verbatim}
\subsubsection{SHOW History}
\index{SHOW!History}
\begin{verbatim}
        SHOW  derives from the GO PLOT script available in GreG and Mapping.
    GO PLOT (or its variants GO BIT, GO NICE and GO MAP) and GO UVSHOW offer
    similar features to those of SHOW, but take data from files or SIC image
    variables, depending on variables NAME and TYPE.

\end{verbatim}
\subsubsection{SHOW Keywords:}
\index{SHOW!Keywords:}
\begin{verbatim}

    SHOW recognizes the following keywords
      CCT         Clean Cumulative Flux
      COMPOSITE   Moments + Flux
      COVERAGE    UV Coverage
      FLUX        Integrated spectra over defined regions
      MOMENTS     0th,1st,2nd moments + peak value
      NOISE       per channel noise
      SELFCAL     Self-Calibration corrections
      SPECTRA     Spectra on a 2-D map-like grid
      SOURCES     Clean component positions
      UV          UV data
      UV_FIT     Results of the UV_FIT command

    SHOW calls the appropriate procedures for each action
      p_show_map       for data cubes
      p_show_cct       for CCT (Clean Component Tables)
      p_show_composite for Composite display (Moments + Flux)
      p_show_flux      for FLUX
      p_show_moments   for MOMENTS
      p_show_noise     for NOISE
      p_show_selfcal   for SELFCAL
      p_show_tcc       for SOURCES (Clean Component Positions)
      p_spectra        for SPECTRA
      p_uvshow_sub     for UV_DATA data
      p_plotfit        for UV_FIT data (UV_FIT results)

\end{verbatim}
\subsubsection{CCT}
\index{SHOW!CCT}
\begin{verbatim}
        SHOW CCT

    Display the Cumulative Clean Flux as function of component number. Pret-
    ty useful to see if CLEAN has reasonably converged.

\end{verbatim}
\subsubsection{COMPOSITE}
\index{SHOW!COMPOSITE}
\begin{verbatim}
        SHOW COMPOSITE

    Display  the  3  "moments" images derived from a datacube by command MO-
    MENTS, and the integrated line flux computed by command FLUX.  The  con-
    tour spacing for each image is controlled by its own variable:
    AREA_SPACING   for the integrated area  M_AREA
    VELO_SPACING   for the Velocity field M_VELO (in km/s)
    WIDTH_SPACING  for the Width field M_WIDTH (in km/s)

    As for other image displays, CENTER and SIZE control the center and size
    of the image (in arcsec). Limits for the Flux spectrum are computed  au-
    tomatically.

\end{verbatim}
\subsubsection{COVERAGE}
\index{SHOW!COVERAGE}
\begin{verbatim}
        SHOW COVERAGE [Ant [Date]]

    Displays  the UV coverage.  Ant and Date are optional arguments indicat-
    ing which Antenna is to be highlighted, and for which date.  Date  is  a
    sequential number from 1 to the number of observing dates.

    For  spectral line UV data, SHOW COVERAGE will only show one UV coverage
    if FIRST and LAST are set to zero. It will show one per  channel  other-
    wise.

\end{verbatim}
\subsubsection{FLUX}
\index{SHOW!FLUX}
\begin{verbatim}
        SHOW FLUX

    Displays the integrated spectra in all regions used by command FLUX.

\end{verbatim}
\subsubsection{MOMENTS}
\index{SHOW!MOMENTS}
\begin{verbatim}
        SHOW MOMENTS

    Display  the  4  "moments" images derived from a datacube by command MO-
    MENTS.  The contour spacing for each image  is  controlled  by  its  own
    variable:
    AREA_SPACING   for the integrated area  M_AREA
    PEAK_SPACING   for the peak brightness value M_PEAK (in K)
    VELO_SPACING   for the Velocity field M_VELO (in km/s)
    WIDTH_SPACING  for the Width field M_WIDTH (in km/s)

    As for other image displays, CENTER and SIZE control the center and size
    of the image (in arcsec).

\end{verbatim}
\subsubsection{NOISE}
\index{SHOW!NOISE}
\begin{verbatim}
        SHOW NOISE [CLEAN|DIRTY]

    Compute and display the noise statistic of the specified data cube,  us-
    ing  a Gaussian fit to the histogram of pixel intensities for each chan-
    nel.

\end{verbatim}
\subsubsection{SOURCES}
\index{SHOW!SOURCES}
\begin{verbatim}
        SHOW SOURCES [First [Last]]

    Display the "point sources" found by CLEAN at their positions,  using  a
    marker  with  area  proportional  to their flux. Positive sources are in
    black, negative ones are in red.

    The displayed zone is controlled by variables SIZE and CENTER, as for in
    SHOW  CLEAN   or SHOW DIRTY. However, when SIZE is 0, the displayed zone
    is set to  the minimum required to display all point sources detected by
    CLEAN. It may thus differ from the CLEAN map size.

\end{verbatim}
\subsubsection{SPECTRA}
\index{SHOW!SPECTRA}
\begin{verbatim}
        SHOW SPECTRA Clean|Dirty|Sky|ImageVar

    Display individual spectra in a Map-like display (one per box, placed at
    their respective positions) from a 3-D SIC variable, assumed  to  be  in
    the LMV order.

    Note:  the second argument may be omitted to re-display the same dataset
    with different control parameters. SHOW SPECTRA  is  however  not  fully
    protected  against  changes  in the data set between two invocations, so
    this should only be used for consecutive commands.

\end{verbatim}
\subsubsection{UV\_DATA}
\index{SHOW!UV\_DATA}
\begin{verbatim}
        SHOW UV_DATA [Ant [Date]]
        SHOW UV [Ant [Date]]

    Displays the UV data.  Items to be displayed are controlled by XTYPE and
    YTYPE  variables.   Ant and Date are optional arguments indicating which
    Antenna is to be highlighted, and for which date. Date is  a  sequential
    number from 1 to the number of observing dates.

    Structure  uvshow% controls some additional options, such as coloring of
    various dates, of data flagging, etc...

\end{verbatim}
\subsubsection{UV\_FIT}
\index{SHOW!UV\_FIT}
\begin{verbatim}
        SHOW UV_FIT [?]

    Display the UV_FIT results. The display  is  controlled  by  the  UVFIT%
    structure.  SHOW  UV_FIT ? will list the current values of these control
    parameters.

    The number and order of the fitted functions  to  be  plotted  are  con-
    trolled by UVFIT%NF and UVFIT%ORDER

    The number of parameters to be plotted as X and Y axes are controlled by
    UVFIT%NX, UVFIT%NY. The kinds and ranges of those parameters  are  coded
    in  the UVFIT%XTYPE and UVFIT%YTYPE strings (e.g. kind min max).  Possi-
    ble kind are: CHANNEL VELO FREQ RMS RA DEC FLUX  WIDTH MAJOR  MINOR  and
    ANGLE. A * instead of min and/or max implies the use of the default min-
    imum and maximum values of the plotted parameter.

    Displayed channels are controlled by variables FIRST and LAST


\end{verbatim}
\subsection{STATISTIC}
\index{STATISTIC}
\begin{verbatim}
        [CLEAN\]STATISTIC  [Clean|Dirty|Residu]  [Plane]  [/NOISE  VarNoise]
    [/WHOLE]

    Compute some basic statistics (min, max, mean, rms,...) on the specified
    buffer (default: Clean) and plane (default: variable FIRST). The current
    polygon  or  mask  (see commands SUPPORT and MASK) is used to define the
    area on which the pixels are to be taken into account, except  when  op-
    tion /WHOLE is present: the whole image is then considered.

    Caution:  Statistics  on  primary-beam  corrected images (SKY) cannot be
    computed in this way, because the noise is non uniform.

\end{verbatim}
\subsubsection{STATISTIC /WHOLE}
\index{STATISTIC!/WHOLE}
\begin{verbatim}
        [CLEAN\]STATISTIC  [Clean|Dirty|Residu]  [Plane]   /NOISE   VarNoise
    [/WHOLE]

    Return the rms noise in the specified VarNoise SIC real scalar variable.
    The rms noise is also available in variable STAT_NOISE, and if the image
    is  the  CLEAN  image, in CLEANNOISE as well for further convenience and
    use in scripts.

\end{verbatim}
\subsubsection{STATISTIC /WHOLE}
\index{STATISTIC!/WHOLE}
\begin{verbatim}
        [CLEAN\]STATISTIC  [Clean|Dirty|Residu]   [Plane]   /WHOLE   [/NOISE
    VarNoise]

    Compute the statistic on the whole image field.


\end{verbatim}
\subsection{SUPPORT}
\index{SUPPORT}
\begin{verbatim}
        [CLEAN\]SUPPORT [Polygon] [/CURSOR] [/MASK] [/PLOT] [/RESET] [/VARI-
    ABLE]

    Define and/or plot the support inside which to search for  CLEAN  compo-
    nents. The support can be defined through a mask (see /MASK option) or a
    polygon, depending on the selected options.  The /PLOT option  can  then
    be used to plot it.

    A polygon stored in a file, or in a Sic variable (/VARIABLE option), can
    be loaded as the polygon support.

    See also the [ADVANCED\]MASK command for a complementary way of defining
    supports, in particular 3-D supports.

\end{verbatim}
\subsubsection{SUPPORT /CURSOR}
\index{SUPPORT!/CURSOR}
\begin{verbatim}
        [CLEAN\]SUPPORT /CURSOR

    With  option /CURSOR, SUPPORT calls the interactive cursor to define the
    polygon summits.  Type any key to go to next summit, D  to  correct  the
    last one and type E to end the polygon definition. The last polygon side
    will then appear. The polygon definition may be aborted by typing Q. For
    graphical displays, you may use the mouse buttons for the commands.  The
    left mouse button draws a vertex, the middle mouse  button  deletes  the
    last vertex, and the right mouse button ends the polygon definition.

    The resulting support is available in the Sic structure SUPPORT:
      - SUPPORT%NXY  [Integer]  Number of summits
      - SUPPORT%X    [Double]   X coordinates
      - SUPPORT%Y    [Double]   Y coordinates

\end{verbatim}
\subsubsection{SUPPORT /MASK}
\index{SUPPORT!/MASK}
\begin{verbatim}
        [CLEAN\]SUPPORT /MASK    or  [ADVANCED\]MASK USE

    Use  the  mask  defined by READ MASK or by the MASK command as the clean
    support. This does not suppress the current polygon: it  can  be  re-in-
    stated by a simple SUPPORT command with no argument.

    The  Mask  can be a 3-D array: CLEAN will find out which mask plane must
    be used for each spectral channel.

    Caution: [CLEAN\]READ MASK and [ADVANCED\]MASK command do not perform an
    implicit  SUPPORT /MASK command. Only the ADVANCED\MASK USE command does
    it explicitely.


\end{verbatim}
\subsubsection{SUPPORT /PLOT}
\index{SUPPORT!/PLOT}
\begin{verbatim}
        [CLEAN\]SUPPORT [Name] /PLOT

    Plot the current (or specified) polygon, or plot the current mask (if it
    is 2-D only).

    For 3-D masks, use the VIEW MASK command instead.

\end{verbatim}
\subsubsection{SUPPORT /RESET}
\index{SUPPORT!/RESET}
\begin{verbatim}
        [CLEAN\]SUPPORT /RESET

    Reset  any support to default. This deletes the current polygon support.
    This does not unload any mask defined  by READ MASK. Such a mask can  be
    re-instated by SUPPORT /MASK.

\end{verbatim}
\subsubsection{SUPPORT /THRESHOLD}
\index{SUPPORT!/THRESHOLD}
\begin{verbatim}
        [CLEAN\]SUPPORT /THRESHOLD [Raw Smooth [Length [Guard]]

    *** Obsolete - see  [ADVANCED\]MASK THRESHOLD instead ***

\end{verbatim}
\subsubsection{SUPPORT /VARIABLE}
\index{SUPPORT!/VARIABLE}
\begin{verbatim}
        [CLEAN\]SUPPORT VarName /VARIABLE

    Load  the support from the Sic variable VarName. VarName can be an array
    of the form:
             VarName[NXY,2]  Real or Double

    or a structure of the form (i.e. same as output):
             VarName%NXY             Integer or Long
             VarName%X[VarName%NXY]  Real or Double
             VarName%Y[VarName%NXY]  Real or Double


\end{verbatim}
\subsection{UV\_BASELINE}
\index{UV\_BASELINE}
\begin{verbatim}
        [CLEAN\]UV_BASELINE [Degree] [/CHANNELS Channel_List]
      [/FREQUENCY List Of Frequencies] [/RANGE Min Max [TYPE]]
      [/VELOCITY List of Velocities] [/WIDTH Width [TYPE]]
      [/FILE FileIn [FileOut]]

    Subtract a continuum from a line UV data set, by fitting  a baseline for
    each  visibility.   The channels to be ignored in this process (i.e. the
    ones including the line emission) can be specified either by  the  /FRE-
    QUENCY or /VELOCITY options in combination with the /WIDTH option, or by
    a channel list with /CHANNELS or a range (of  channels,  frequencies  or
    velocities) with /RANGE.

    By  default, the command works on the current UV data, unless the option
    /FILE is specified.

    With no options (except possibly /FILE), the command behaves as UV_BASE-
    LINE /CHANNELS PreviewChannels. See UV_PREVIEW for details.

\end{verbatim}
\subsubsection{UV\_BASELINE /CHANNELS}
\index{UV\_BASELINE!/CHANNELS}
\begin{verbatim}
        [CLEAN\]UV_BASELINE /CHANNELS Channel_List

    Channel_List  must be a 1-D SIC variable containing the list of channels
    to filter out.

\end{verbatim}
\subsubsection{UV\_BASELINE /FILE}
\index{UV\_BASELINE!/FILE}
\begin{verbatim}
        [CLEAN\]UV_BASELINE [Degree] [/CHANNELS Channel_List]
      [/FREQUENCY List Of Frequencies] [/RANGE Min Max [TYPE]]
      [/VELOCITY List of Velocities] [/WIDTH Width [TYPE]]
      /FILE FileIn [FileOut]

    Use the UV data in the file FileIn, and write the  continuum-free  visi-
    bilities  in  the file FileOut.  If FileOut is not specified, "-line" is
    appended to the name indicated by FileIn.

\end{verbatim}
\subsubsection{UV\_BASELINE /FREQUENCY}
\index{UV\_BASELINE!/FREQUENCY}
\begin{verbatim}
        [CLEAN\]UV_BASELINE /FREQUENCY F1 [... [Fn]] [/WIDTH Width [TYPE]]

    Specify around which frequencies the line emission should  be  filtered.
    Frequencies  F1  to  Fn  must be in MHz. The full width of the filtering
    window around every frequency can be set by option /WIDTH.  The optional
    argument  TYPE indicates the type of width: FREQUENCY (in MHz), VELOCITY
    (in km/s) or CHANNEL (no unit), the default being  FREQUENCY.   The  de-
    fault width is the current channel width.

    Tip: it can be convenient to have a list of SIC variables containing the
    frequencies of the most intense spectral lines, e.g.
            HCO10 = 89188.52

\end{verbatim}
\subsubsection{UV\_BASELINE /RANGE}
\index{UV\_BASELINE!/RANGE}
\begin{verbatim}
        [CLEAN\]UV_BASELINE /FREQUENCY F1 [... [Fn]] /RANGE Min Max [TYPE]

    Indicate that channels between the First and Last defined by Min Max and
    Type  contain  line  emission and should be ignored in the baseline fit-
    ting.  Type can be CHANNEL, VELOCITY or FREQUENCY.

    For type CHANNEL, Min and Max indicate offsets from Channel 1 and  Chan-
    nel Nchan (the number of channels in the data set). Thus Max can be neg-
    ative: it then indicates Last = Nchan-Max. Also Min=0 and Max=0  implies
    loading all the channels.

\end{verbatim}
\subsubsection{UV\_BASELINE /VELOCITY}
\index{UV\_BASELINE!/VELOCITY}
\begin{verbatim}
        [CLEAN\]UV_BASELINE /VELOCITY V1 [... [Vn]] [/WIDTH Width [TYPE]]

    Specify  around  which  velocities the line emission should be filtered.
    Velocities V1 to Vn must be in km/s. The full  width  of  the  filtering
    window around every frequency can be set by option /WIDTH.  The optional
    argument TYPE indicates the type of width: FREQUENCY (in MHz),  VELOCITY
    (in  km/s)  or  CHANNEL (no unit), the default being FREQUENCY.  The de-
    fault width is the current channel width.

\end{verbatim}
\subsubsection{UV\_BASELINE /WIDTH}
\index{UV\_BASELINE!/WIDTH}
\begin{verbatim}
        [CLEAN\]UV_BASELINE /FREQUENCY F1 [... [Fn]] /WIDTH Width [TYPE]

    Specify the full width of the window around every frequency given in the
    /FREQUENCY  option.   The  optional  argument TYPE indicates the type of
    width: FREQUENCY (in MHz), VELOCITY (in km/s) or CHANNEL (no unit),  the
    default  being  FREQUENCY.   The  default  width  is the current channel
    width.  The default width is the current channel width.

\end{verbatim}
\subsection{UV\_CHECK}
\index{UV\_CHECK}
\begin{verbatim}
        [CLEAN\]UV_CHECK  Beams|Nulls

      Check UV data for weight consistency.

      BEAMS
      List which channel range can be processed with  the  same  synthesized
    beam.

      NULLS
      Check if there are null visibilities with non-zero weights, and flag
      them if found.


\end{verbatim}
\subsection{UV\_COMPRESS}
\index{UV\_COMPRESS}
\begin{verbatim}
        [CLEAN\]UV_COMPRESS Nc  [/FILE FileIn FileOut]

    Resample the UV data by averaging NC adjacent channels.

    With  no  option, the current UV table obtained by READ UV is resampled.
    All other UV commands except UV_RESAMPLE work on the "Resampled" UV  ta-
    ble.   The "Resampled" UV table is a simple copy of the original one af-
    ter a READ UV command, or after a UV_RESAMPLE  or  UV_COMPRESS  commands
    without arguments.

    With  the /FILE option, the UV data is read from file FileIn and the re-
    sampled output is written in file FileOut.

\end{verbatim}
\subsubsection{UV\_COMPRESS /FILE}
\index{UV\_COMPRESS!/FILE}
\begin{verbatim}
        [CLEAN\]UV_COMPRESS Nc  /FILE FileIn FileOut

    Use the UV data in the file FileIn, and write the data  after  averaging
    by NC adjacent channels in the file FileOut.


\end{verbatim}
\subsection{UV\_CONTINUUM}
\index{UV\_CONTINUUM}
\begin{verbatim}
        [CLEAN\]UV_CONTINUUM Naver [First Last] [/INDEX Value [Frequency]]

    Transform  the  (presumably spectral line) UV data set loaded by READ UV
    into a "continuum" data set.

    The transformation selects line channels from  First  to  Last,  average
    them by groups of Naver contiguous channels, and concatenate the result-
    ing visibilities into a "continuum" UV table.

    For each of the (First-Last+1)/Naver channels, and for all visibilities,
    the  U  and  V coordinates are rescaled to the mean observing frequency,
    and the resulting (single-channel) visibilities  are  concatenated  into
    the  "continuum"  UV data set. The continuum dataset becomes the current
    UV data. Flagged channels are ignored: this allows to mask channels con-
    taining spectral lines (see UV_FILTER).

    Default  for  First  and Last is 0 0, meaning all channels are selected.
    Negative value for Last indicate an offset from end  channel  (i.e.  -20
    means ignore the last 20 channels).

\end{verbatim}
\subsubsection{UV\_CONTINUUM /INDEX}
\index{UV\_CONTINUUM!/INDEX}
\begin{verbatim}
        [CLEAN\]UV_CONTINUUM Naver [First Last] /INDEX Value [Frequency]

    Specify which spectral index to be used when scaling the visibilities as
    a function of frequency.

    TO BE IMPLEMENTED:  Frequency, if specified, will be used as a reference
    frequency instead of the mean observing frequency.

\end{verbatim}
\subsection{UV\_EXTRACT}
\index{UV\_EXTRACT}
\begin{verbatim}
        [CLEAN\]UV_EXTRACT /RANGE Min Max [TYPE]  [/FILE FileIn [FileOut]]

      Extract  a  subset of all available channels. The command works on the
    current UV buffer, unless the /FILE option is specified

\end{verbatim}
\subsubsection{UV\_EXTRACT /FILE}
\index{UV\_EXTRACT!/FILE}
\begin{verbatim}
        [CLEAN\]UV_EXTRACT /RANGE Min Max [TYPE] /FILE FileIn [FileOut]

    Extract the specified range from the UV data in  the  file  FileIn,  and
    write  the resulting visibilities in the file FileOut. If FileOut is not
    specified, "-ext" is appended to the name indicated by FileIn.

\end{verbatim}
\subsubsection{UV\_EXTRACT /RANGE}
\index{UV\_EXTRACT!/RANGE}
\begin{verbatim}
        [CLEAN\]UV_EXTRACT /RANGE Min Max [TYPE]  [/FILE FileIn [FileOut]]

    Indicate that channels between the First and Last defined by Min Max and
    Type  contain  line  emission  and  should be filtered out.  Type can be
    CHANNEL, VELOCITY or FREQUENCY.

    For type CHANNEL, Min and Max indicate offsets from Channel 1 and  Chan-
    nel Nchan (the number of channels in the data set). Thus Max can be neg-
    ative: it then indicates Last = Nchan-Max. Also Min=0 and Max=0  implies
    all the channels.

\end{verbatim}
\subsection{UV\_FILTER}
\index{UV\_FILTER}
\begin{verbatim}
        [CLEAN\]UV_FILTER [/ZERO] [/CHANNELS Channel_List]
      [/FREQUENCY List Of Frequencies] [/RANGE Min Max [TYPE]]
      [/VELOCITY List of Velocities] [/WIDTH Width [TYPE]]
      [/FILE FileIn [FileOut]]

    "Filter"  line  emission,  by  flagging  the corresponding channels. The
    channels can be specified either by the /FREQUENCY or /VELOCITY  options
    in  combination with the /WIDTH option, or by a channel list with /CHAN-
    NELS or a range (of channels, frequencies or velocities) with /RANGE.

    By default, channels to be filtered are flagged (weights becoming  nega-
    tive).  Option /ZERO can be used to erase them: weights and visibilities
    are set to zero, see HELP UV_FILTER /ZERO.

    The command works on the current UV data, unless  the  option  /FILE  is
    specified.

    With  no  options (except possibly /FILE and /ZERO), the command behaves
    as UV_FILTER /CHANNELS PreviewChannels. See UV_PREVIEW for details.

\end{verbatim}
\subsubsection{UV\_FILTER /CHANNELS}
\index{UV\_FILTER!/CHANNELS}
\begin{verbatim}
        [CLEAN\]UV_FILTER [/ZERO] /CHANNELS Channel_List

    Channel_List must be a 1-D SIC variable containing the list of  channels
    to filter out.

\end{verbatim}
\subsubsection{UV\_FILTER /FILE}
\index{UV\_FILTER!/FILE}
\begin{verbatim}
        [CLEAN\]UV_FILTER [/ZERO] [/CHANNELS Channel_List]
      [/FREQUENCY List Of Frequencies] [/RANGE Min Max [TYPE]]
      [/VELOCITY List of Velocities] [/WIDTH Width [TYPE]]
      /FILE FileIn [FileOut]

    Use the UV data in the file FileIn, and write the line-free visibilities
    in the file FileOut.  If FileOut is not specified, "-cont"  is  appended
    to the name indicated by FileIn.

\end{verbatim}
\subsubsection{UV\_FILTER /FREQUENCY}
\index{UV\_FILTER!/FREQUENCY}
\begin{verbatim}
        [CLEAN\]UV_FILTER [/ZERO] /FREQUENCY F1 [... [Fn]] [/WIDTH Width]

    Specify  around  which frequencies the line emission should be filtered.
    Frequencies F1 to Fn must be in MHz. The full  width  of  the  filtering
    window around every frequency can be set by option /WIDTH.  The optional
    argument TYPE indicates the type of width: FREQUENCY (in MHz),  VELOCITY
    (in  km/s)  or  CHANNEL (no unit), the default being FREQUENCY.  The de-
    fault width is the current channel width.

    Tip: it can be convenient to have a list of SIC variables containing the
    frequencies of the most intense spectral lines, e.g.
            HCO10 = 89188.52

\end{verbatim}
\subsubsection{UV\_FILTER /RANGE}
\index{UV\_FILTER!/RANGE}
\begin{verbatim}
        [CLEAN\]UV_FILTER [/ZERO] /RANGE Min Max [TYPE]

    Indicate that channels between the First and Last defined by Min Max and
    Type contain line emission and should be  filtered  out.   Type  can  be
    CHANNEL, VELOCITY or FREQUENCY.

    For  type CHANNEL, Min and Max indicate offsets from Channel 1 and Chan-
    nel Nchan (the number of channels in the data set). Thus Max can be neg-
    ative:  it then indicates Last = Nchan-Max. Also Min=0 and Max=0 implies
    loading all the channels.

\end{verbatim}
\subsubsection{UV\_FILTER /VELOCITY}
\index{UV\_FILTER!/VELOCITY}
\begin{verbatim}
        [CLEAN\]UV_FILTER /VELOCITY V1 [... [Vn]] [/WIDTH Width [TYPE]]

    Specify around which velocities the line emission  should  be  filtered.
    Velocities  V1  to  Vn  must be in km/s. The full width of the filtering
    window around every frequency can be set by option /WIDTH.  The optional
    argument  TYPE indicates the type of width: FREQUENCY (in MHz), VELOCITY
    (in km/s) or CHANNEL (no unit), the default being  FREQUENCY.   The  de-
    fault width is the current channel width.

\end{verbatim}
\subsubsection{UV\_FILTER /WIDTH}
\index{UV\_FILTER!/WIDTH}
\begin{verbatim}
        [CLEAN\]UV_FILTER  [/ZERO]  /FREQUENCY  F1  [...  [Fn]] /WIDTH Width
    [TYPE]

        [CLEAN\]UV_FILTER [/ZERO]  /VELOCITY  V1  [...  [Vn]]  /WIDTH  Width
    [TYPE]

    Specify  the  full  width of the filtering window around every frequency
    given in the /FREQUENCY option or any velocity given  in  the  /VELOCITY
    option.   The  optional  argument TYPE indicates the type of width: FRE-
    QUENCY (in MHz), VELOCITY (in km/s) or CHANNEL (no  unit),  the  default
    being FREQUENCY.  The default width is the current channel width.

\end{verbatim}
\subsubsection{UV\_FILTER /ZERO}
\index{UV\_FILTER!/ZERO}
\begin{verbatim}
        [CLEAN\]UV_FILTER /ZERO [/CHANNELS Channel_List]
      [/FREQUENCY F1 [... [Fn]] [/VELOCITY V1 [... [Vn]]
      [/RANGE Min Max [TYPE]] [/WIDTH Width [TYPE]]

    Erase  filtered  channels  (set  weight and visibilities to zero) rather
    than simply flagging them (weight set to negative value).  This  can  be
    more convenient for further display, but is not reversible.

    By  default, channels to be filtered are flagged (weights becoming nega-
    tive, and data can be unflagged by UV_FLAG).  Flagged channels  are  ig-
    nored  in the averaging process, such as UV_RESAMPLE or UV_CONT.  Howev-
    er, as UV_MAP (in general) uses only one channel to define  the  weights
    for  all  others, these flagged channels will nevertheless appear in the
    imaged data cube.

    See UV_CHECK for information about handling flagged channels and differ-
    ent beams in a single UV table.


\end{verbatim}
\subsection{UV\_FLAG}
\index{UV\_FLAG}
\begin{verbatim}
        [CLEAN\]UV_FLAG [/RESET]

    Display  UV  data  and calls the cursor to interactively select a region
    where UV data will be flagged (sign of weight is reversed).  The  /RESET
    option is used to unflag the data. UV data flagged using command UV_FLAG
    can be saved on file with command WRITE UV  File.  Detailed  information
    about  the  display  control  of the UV data may be found in the UV_SHOW
    help.

    The user can control the algorithm through variables.  Values  of  those
    variables  can  be  checked  using "EXAMINE VARIABLE". New values can be
    given using "LET VARIABLE value".

    DATE_START  [    ] The date of the first data to be flagged
    UT_START    [    ] The UT time of the first data to be flagged
    DATE_END    [    ] The date of the last data to be flagged
    UT_END      [    ] The time of the last data to be flagged
    BASELINE    [    ] Baseline to flagged
    CHANNEL     [    ] Channel range to be flagged/unflagged
    FLAG        [    ] Flag or unflag the specified time range

    Subsequent mapping with UV_MAP will ignore flagged  data.  However,  for
    multi-channel  imaging, the weight column is (by default) taken from one
    channel, so that channel-based flagging will not be  recognized  in  the
    default mode, but only in the "One Beam per Channel" mode.

\end{verbatim}
\subsubsection{UV\_FLAG DATE\_START}
\index{UV\_FLAG!DATE\_START}
\begin{verbatim}

    The date (DD-MMM-YYYY) of the first data to be flagged.

\end{verbatim}
\subsubsection{UV\_FLAG UT\_START}
\index{UV\_FLAG!UT\_START}
\begin{verbatim}

    The UT time (hh:mm:ss.ss) of the first data to be flagged.

\end{verbatim}
\subsubsection{UV\_FLAG DATE\_END}
\index{UV\_FLAG!DATE\_END}
\begin{verbatim}

    The date (DD-MMM-YYYY) of the last data to be flagged.

\end{verbatim}
\subsubsection{UV\_FLAG UT\_END}
\index{UV\_FLAG!UT\_END}
\begin{verbatim}

    The time (hh:mm:ss.ss) of the last data to be flagged.

\end{verbatim}
\subsubsection{UV\_FLAG BASELINE}
\index{UV\_FLAG!BASELINE}
\begin{verbatim}

    Baseline (ALL, 12, 13, 23, ...) to flagged.

\end{verbatim}
\subsubsection{UV\_FLAG FLAG}
\index{UV\_FLAG!FLAG}
\begin{verbatim}

    Flag (T) or unflag (F) the specified time range.

\end{verbatim}
\subsubsection{UV\_FLAG CHANNEL}
\index{UV\_FLAG!CHANNEL}
\begin{verbatim}

    Channel range to be flagged/unflagged.

\end{verbatim}
\subsection{UV\_MAP}
\index{UV\_MAP}
\begin{verbatim}
        [CLEAN\]UV_MAP  [CenterX  CenterY  UNIT [Angle]] [/FIELDS FieldList]
    [/TRUNCATE Percent] [/RANGE Min Max Type] [/CONT [Naver]] [/INDEX Alpha]

    Compute a dirty map and beam from a UV data.  UV  data  must  have  been
    loaded  from a UV table by command "READ UV File". UV_MAP processes sin-
    gle fields as well as Mosaics.

    The user can control the algorithm through SIC variables. New values can
    be given using "LET VARIABLE value". For ease of use, and whenever it is
    possible, a sensible value of each parameter will automatically be  com-
    puted from the context if the value of the corresponding variable is set
    to its default value, i.e. zero value and empty string. A few  variables
    are initialized to "reasonable" values.

        [CLEAN\]UV_MAP ?
    Will list all MAP_* variables controlling the UV_MAP parameters

\end{verbatim}
\subsubsection{UV\_MAP Mosaics}
\index{UV\_MAP!Mosaics}
\begin{verbatim}
        [CLEAN\]UV_MAP  [CenterX  CenterY  UNIT  [Angle]]  /FIELDS FieldList
    [/TRUNCATE Percent]

    The UV data can be a Mosaic UV table. In this case,  UV_MAP  will  image
    the Mosaic, using appropriate primary beam size and truncation level.

    By  default,  the  primary beam size is taken from the telescope parame-
    ters, either as found in the telescope section of the UV table  and  the
    observing  frequency  (e.g.  for ALMA it uses 1.13 Lambda/D). If absent,
    the telescope section information can be added by command SPECIFY  TELE-
    SCOPE.

    The  truncation  level  is  taken from variable MAP_TRUNCATE or from the
    /TRUNCATE option argument.

\end{verbatim}
\subsubsection{UV\_MAP /CONT}
\index{UV\_MAP!/CONT}
\begin{verbatim}
        [CLEAN\]UV_MAP [CenterX CenterY UNIT [Angle]] /CONT [Naver]  [/INDEX
    Alpha] [/RANGE Min Max Type]

    Produce  a Continuum image (from all channels, or those selected  by the
    specified Velocity, Frequency or Channel range (depending on  Type)  be-
    tween Min Max when the option /RANGE is present), using a Multi-Frequen-
    cy Synthesis, where (u,v) coordinates are  scaled  with  Frequencies  to
    produce  an  optimal  beam. Naver is the number of initial channels that
    will share the same (u,v) coordinates. If not present,  it  is  computed
    from MAP_FIELD and MAP_CELL to limit bandwidth smearing.

    In  essence,  UV_MAP  /CONT  behaves  as the combination of UV_CONTINUUM
    followed by UV_MAP, but the pseudo-continuum UV Table created by UV_CON-
    TINUUM is not kept by UV_MAP /CONT.

    A spectral index can be specified using option /INDEX.

\end{verbatim}
\subsubsection{UV\_MAP /FIELDS}
\index{UV\_MAP!/FIELDS}
\begin{verbatim}
        [CLEAN\]UV_MAP  [CenterX  CenterY  UNIT  [Angle]]  /FIELDS FieldList
    [/TRUNCATE Percent]

    For a Mosaic, only image the fields specified in a 1-D Integer  variable
    FieldList.   SHOW  FIELDS  will highlight the list of fields selected by
    this command.

\end{verbatim}
\subsubsection{UV\_MAP /INDEX}
\index{UV\_MAP!/INDEX}
\begin{verbatim}
        [CLEAN\]UV_MAP [CenterX CenterY UNIT [Angle]] /CONT  [Naver]  /INDEX
    Alpha [/RANGE Min Max Type]

    Specify the spectral index to be used for Continuum imaging using a Mul-
    ti-Frequency Synthesis method. This option is only valid with the  /CONT
    option.


\end{verbatim}
\subsubsection{UV\_MAP /RANGE}
\index{UV\_MAP!/RANGE}
\begin{verbatim}
        [CLEAN\]UV_MAP  [CenterX  CenterY  UNIT [Angle]] /RANGE Min Max Type
    [/FIELDS FieldList] [/TRUNCATE Percent] [/CONT [Naver]] [/INDEX Alpha]

    Only image the specified Velocity, Frequency or Channel range (depending
    on  Type)  between Min Max. This is a more convenient replacement of the
    deprecated MCOL variable.

\end{verbatim}
\subsubsection{UV\_MAP /TRUNCATE}
\index{UV\_MAP!/TRUNCATE}
\begin{verbatim}
        [CLEAN\]UV_MAP [CenterX  CenterY  UNIT  [Angle]]  /FIELDS  FieldList
    /TRUNCATE Percent

    For  a Mosaic, truncate the primary beam to the specified level (in per-
    cent). SHOW FIELDS will use this level to show the beams.   The  default
    is to use MAP_TRUNCATE.

\end{verbatim}
\subsubsection{UV\_MAP Variables:}
\index{UV\_MAP!Variables:}
\begin{verbatim}
                [CLEAN\]UV_MAP ?
        Will list all MAP_* variables controlling the UV_MAP parameters.

    The  list  of control variables is (by alphabetic order, with the corre-
    sponding old names used by Mapping on the right)

    New names       [   unit]       -- Description --    % Old Name
    MAP_BEAM_STEP   [       ]  Number of channels per single dirty beam
    MAP_CELL        [ arcsec]  Image pixel size
    MAP_CENTER      [ string]  RA, Dec of map center, and Position Angle
    MAP_CONVOLUTION [       ]  Convolution function     % CONVOLUTION
    MAP_FIELD       [ arcsec]  Map field of view
    MAP_POWER       [       ]  Maximum exponent of 3 and 5 allowed in MAP_SIZE
    MAP_PRECIS      [       ]  Fraction of pixel tolerance on beam matching
    MAP_ROBUST      [       ]  Robustness factor        % UV_CELL[2]
    MAP_ROUNDING    [       ]  Precision of MAP_SIZE
    MAP_SIZE        [       ]  Number of pixels
    MAP_TAPEREXPO   [       ]  Taper exponent           % TAPER_EXPO
    MAP_TRUNCATE    [      %]  Mosaic truncation level
    MAP_UVCELL      [      m]  UV cell size             % UV_CELL[1]
    MAP_UVTAPER     [m,m,deg]  Gaussian taper           % UV_TAPER
    MAP_VERSION     [       ]  Code version (0 new, -1 old)


    See HELP UV_MAP Old_names:  for deprecated variable names.

\end{verbatim}
\subsubsection{MAP\_BEAM\_STEP}
\index{UV\_MAP!MAP\_BEAM\_STEP}
\begin{verbatim}

      MAP_BEAM_STEP   Integer

    Number of channels per synthesized beam plane.

    Default is 0, meaning only 1 beam plane for all channels.  N (>0)  indi-
    cates N consecutive channels will share the same dirty beam.

    A  value  of  -1  can be used to compute the number of channels per beam
    plane to ensure the angular scale does not deviate more than a  fraction
    of the map cell at the map edge. This fraction is controlled by variable
    MAP_PRECIS (default 0.1)

\end{verbatim}
\subsubsection{MAP\_CELL}
\index{UV\_MAP!MAP\_CELL}
\begin{verbatim}

          MAP_CELL[2]    Real

    The map pixel size [arcsec]. It is recommended to use  identical  values
    in  X  and Y.  A sampling of at least 3 pixel per beam is recommended to
    ease the deconvolution. Enter 0,0 to let the task find the best values.

\end{verbatim}
\subsubsection{MAP\_CENTER}
\index{UV\_MAP!MAP\_CENTER}
\begin{verbatim}

          MAP_CENTER     Character String

    Specify the Map center and orientation in the same way as the  arguments
    of UV_MAP.

\end{verbatim}
\subsubsection{MAP\_CONVOLUTION}
\index{UV\_MAP!MAP\_CONVOLUTION}
\begin{verbatim}

        MAP_CONVOLUTION    Integer

    Select the desired convolution function for gridding  in  the  UV  plane
    Choices are
            0    Default (currently 5)
            1    Boxcar
            2    Gaussian
            3    Sin(x)/x
            4    Gaussian * Sin(x)/x
            5    Spheroidal
    Spheroidal functions is the optimal choice. So  we  strongly  discourage
    use of any other convolution function, which are here for tests only.

\end{verbatim}
\subsubsection{MAP\_FIELD}
\index{UV\_MAP!MAP\_FIELD}
\begin{verbatim}

      MAP_FIELD[2]     Real

    Field  of  view  in  X and Y in arcsec.  The field of view MAP_FIELD has
    precedence over the number of pixels MAP_SIZE to define the  actual  map
    size when both are non-zero.

\end{verbatim}
\subsubsection{MAP\_POWER}
\index{UV\_MAP!MAP\_POWER}
\begin{verbatim}

          MAP_POWER[2]     Integer

    Maximum  exponent  of  3  and  5 allowed in automatic guess of MAP_SIZE.
    MAP_SIZE is decomposed in 2^k 3^p 5^q, and p and q must be less or equal
    to MAP_POWER.

    Default is 0: MAP_SIZE is just a power of 2. A value of 1 allows approx-
    imation of any map size to 20 %, while a value of 2 allows 10 % approxi-
    mation.  Fast Fourier Transform are slightly slower with powers of 3 and
    5, but limiting the map size can gain a  lot  in  the  Cleaning  process
    (which can scale as MAP_SIZE^4).


\end{verbatim}
\subsubsection{MAP\_PRECIS}
\index{UV\_MAP!MAP\_PRECIS}
\begin{verbatim}

      MAP_PRECIS    Real

    Maximum  mismatch in pixel at map edge between the true synthesized beam
    (which would have been computed using the exact channel  frequency)  and
    the  computed  synthesized beam with  the mean frequency of the channels
    sharing the same beam. This is used (with the actual image size) to  de-
    rive  the  actual number of channels which can share the same beam, i.e.
    the effective value of MAP_BEAM_STEP when MAP_BEAM_STEP is -1.

    Default is 0.1

\end{verbatim}
\subsubsection{MAP\_ROBUST}
\index{UV\_MAP!MAP\_ROBUST}
\begin{verbatim}

      MAP_ROBUST     Real

    Robust weighting factor. A number between 0 and +infty.

    Robust weighting gives the natural weight  to  UV  cells  whose  natural
    weight  is  lower  than  a  given threshold. In contrast, if the natural
    weight of the UV cell is larger than this threshold, the weight  is  set
    to  this  (uniform) threshold. The UV cell size is defined by MAP_UVCELL
    and the threshold value is in MAP_ROBUST.

    0 means natural weighting, which is optimal for point sources.  The  Ro-
    bust  weighting factor controls the resolution: better resolution is ob-
    tained for small values (at the expense of noise), resolution  approach-
    ing  the natural weighting scheme for large values.  Larger UV cell size
    give higher angular resolution (but again more noise).

    MAP_ROBUST around .5 to 1 is a good compromise  between  noise  increase
    and angular resolution.

\end{verbatim}
\subsubsection{MAP\_ROUNDING}
\index{UV\_MAP!MAP\_ROUNDING}
\begin{verbatim}

      MAP_ROUNDING     Real

    Maximum  error  between  optimal size (MAP_FIELD / MAP_CELL) and rounded
    (as a power of 2^k 3^p 5^q) MAP_SIZE to round by  floor  (thus  limiting
    the  field of view), instead of ceiling (which guarantees a larger field
    of view, but leads to bigger images).

    Default is 0.05.


\end{verbatim}
\subsubsection{MAP\_SHIFT}
\index{UV\_MAP!MAP\_SHIFT}
\begin{verbatim}

      MAP_SHIFT        Logical

    Obsolescent, superseded by MAP_CENTER, or the UV_MAP arguments.

    Logical variable indicating whether map center (i.e. phase tracking cen-
    ter) or orientation should be changed.

\end{verbatim}
\subsubsection{MAP\_SIZE}
\index{UV\_MAP!MAP\_SIZE}
\begin{verbatim}

      MAP_SIZE[2]      Integer

    Number of pixels in X and Y. It should preferentially be a power of two,
    (although  this  is  not  strictly  required)  to  speed-up   the   FFT.
    MAP_SIZE*MAP_CELL should be at least twice the size of the field-of-view
    (primary beam size for a single field). Enter 0,0  to  let  the  command
    find a sensible map size.

    MAP_SIZE is not used if MAP_FIELD is non zero.

    Odd values are forbidden.

    Default is 0,0, i.e. UV_MAP will guess the most appropriate values which
    depend on MAP_ROUNDING and MAP_POWER.


\end{verbatim}
\subsubsection{MAP\_TAPEREXPO}
\index{UV\_MAP!MAP\_TAPEREXPO}
\begin{verbatim}

      MAP_TAPEREXPO    Real

    Taper exponent. The default is 2 (indicating a Gaussian) but smoother or
    sharper  functions  can be used. 1 would give an Exponential, 4 would be
    getting close to square profile...

\end{verbatim}
\subsubsection{MAP\_TRUNCATE}
\index{UV\_MAP!MAP\_TRUNCATE}
\begin{verbatim}

      MAP_TRUNCATE    Real

    Mosaic truncation level in PerCent.  Default value is 0.2. Current value
    can be overriden by option /TRUNCATE in commands UV_MAP or PRIMARY.

\end{verbatim}
\subsubsection{MAP\_UVTAPER}
\index{UV\_MAP!MAP\_UVTAPER}
\begin{verbatim}

      MAP_UVTAPER[3]  Real

    Parameters of the tapering function (Gaussian if MAP_TAPEREXPO = 2): ma-
    jor axis at 1/e level [m], minor axis at 1/e level [m], and position an-
    gle [deg].

\end{verbatim}
\subsubsection{MAP\_UVCELL}
\index{UV\_MAP!MAP\_UVCELL}
\begin{verbatim}

      MAP_UVCELL   Real

    UV  cell  size for robust weighting [m].  Should be of the order of half
    the dish diameter (7.5 m for PdBI), or smaller or even larger.  It  con-
    trols the beam shape in Robust weighting.

\end{verbatim}
\subsubsection{MAP\_VERSION}
\index{UV\_MAP!MAP\_VERSION}
\begin{verbatim}

      MAP_VERSION  Integer

    [EXPERT Only] Code indicating which version of the UV_MAP and UV_RESTORE
    algorithm  should  be  used.  0  is  optimal.  -1  is  the  "historical"
    (pre-2016)  version. 1 is an intermediate version used during multi-fre-
    quency beams development.



\end{verbatim}
\subsubsection{Old\_Names:}
\index{UV\_MAP!Old\_Names:}
\begin{verbatim}

    NAME is no longer used, and WEIGHT_MODE is obsolete.
    MAP_RA          [  hours]  RA of map center
    MAP_DEC         [    deg]  Dec of map center
    MAP_ANGLE       [    deg]  Map position angle
    MAP_SHIFT       [Yes/No ]  Shift phase center
    are obsolescent, superseded by MAP_CENTER. They are  provided  only  for
    compatibility with older scripts.

    WCOL  (the  Weight channel) and MCOL[2] (the channel range) are obsolete
    also. WCOL has no meaning when more than 1 beam must be produced for all
    channels,  and should be set to 0.  MCOL is superseded by the /RANGE op-
    tion facility.

     NAME        [       ]  Label of the dirty image and beam plots
     UV_TAPER    [m,m,deg]  UV-apodization by convolution with a Gaussian
     WEIGHT_MODE [       ]  Weighting mode (NA|UN)
     UV_CELL     [m, ??  ]  UV cell size and threshold for Robust weighting
     MAP_FIELD   [ arcsec]  Map field of view
     MAP_CELL    [ arcsec]  Map cell size
     MAP_SIZE    [ pixels]  Map size in pixels (if MAP_FIELD is zero)
     MCOL        [       ]  First and Last channel to map
     WCOL        [       ]  Channel from which the weights are taken
     CONVOLUTION [       ]  Convolution function (5)
     UV_SHIFT    [       ]  Change the map phase center or map orientation?
     MAP_RA      [       ]  RA of map phase center
     MAP_DEC     [       ]  Dec of map phase center
     MAP_ANGLE   [    deg]  Map position angle
     MAP_BEAM_STEP [     ]  Number of channels per synthesized beam plane

\end{verbatim}
\subsubsection{convolution}
\index{UV\_MAP!convolution}
\begin{verbatim}

      Older variable name for MAP_CONVOLUTION

\end{verbatim}
\subsubsection{map\_angle}
\index{UV\_MAP!map\_angle}
\begin{verbatim}

      MAP_ANGLE      Real

    Position Angle of the direction which will become the apparent North  in
    the map. Used only if UV_SHIFT is YES.

    Superseded by MAP_CENTER.

\end{verbatim}
\subsubsection{map\_dec}
\index{UV\_MAP!map\_dec}
\begin{verbatim}

      MAP_DEC     Real

    Dec of map center. Used only if UV_SHIFT is YES.

    Superseded by MAP_CENTER.

\end{verbatim}
\subsubsection{map\_ra}
\index{UV\_MAP!map\_ra}
\begin{verbatim}

      MAP_RA      Real

    RA of map center. Used only if UV_SHIFT is YES.

    Superseded by MAP_CENTER.

\end{verbatim}
\subsubsection{mcol}
\index{UV\_MAP!mcol}
\begin{verbatim}

      mcol[2]   Integer

    [Deprecated]  First  and Last channel to image. Values of 0 mean imaging
    all the planes.  See UV_MAP /RANGE for a more flexible  way  to  specify
    the channel range.

\end{verbatim}
\subsubsection{uv\_cell}
\index{UV\_MAP!uv\_cell}
\begin{verbatim}

      Older variables for MAP_UVCELL (uv
\end{verbatim}
\subsubsection{uv\_shift}
\index{UV\_MAP!uv\_shift}
\begin{verbatim}

      Older variable name of MAP_SHIFT (this one is also obsolescent)

\end{verbatim}
\subsubsection{uv\_taper}
\index{UV\_MAP!uv\_taper}
\begin{verbatim}

      Older variable name of MAP_UVTAPER

\end{verbatim}
\subsubsection{taper\_expo}
\index{UV\_MAP!taper\_expo}
\begin{verbatim}

      Older variable name for MAP_TAPEREXPO

\end{verbatim}
\subsubsection{wcol}
\index{UV\_MAP!wcol}
\begin{verbatim}

      WCOL      Integer

    [Obsolescent]  The  channel from which the weight should be taken.  WCOL
    set to 0 means using a default channel. WCOL has no real meaning in  all
    cases where more than one beam is computed for all channels.

\end{verbatim}
\subsubsection{weight\_mode}
\index{UV\_MAP!weight\_mode}
\begin{verbatim}

      weightde      Character

    [Deprecated]  Weighting  mode: Natural (optimum in terms of sensitivity)
    or robust  (usually  lower  sidelobes  and  higher  spatial  resolution)
    weighting.  This was needed in Mapping to toggle between Natural and Ro-
    bust weighting, while IMAGER does that based on MAP_ROBUST value.







\end{verbatim}
\subsection{UV\_RESAMPLE}
\index{UV\_RESAMPLE}
\begin{verbatim}
        [CLEAN\]UV_RESAMPLE [Nc Ref Val Inc] [/FILE FileIn FileOut]

    With no option, resample the UV data loaded by READ UV  on  a  different
    velocity  scale.   All  other UV commands except UV_COMPRESS work on the
    "Resampled" UV table. The output spectral sampling is defined by
         Nc   new number of channels
         Ref  New reference pixel
         Val  New velocity at reference pixel
         Inc  Velocity increment
    Any argument can be set to * for an automatic determination based on the
    values  of  the  other arguments. The automatic determination of NC pre-
    serves the velocity coverage.

    The "Resampled" UV table is a simple copy of the original  one  after  a
    READ  UV  command, or after a UV_RESAMPLE or UV_COMPRESS command without
    arguments.

    With the /FILE option, the internal buffers are not used: the UV data is
    read  from file FileIn and the resampled output is written in file File-
    Out.

\end{verbatim}
\subsubsection{UV\_RESAMPLE /FILE}
\index{UV\_RESAMPLE!/FILE}
\begin{verbatim}
        [CLEAN\]UV_RESAMPLE Nc Ref Val Inc /FILE FileIn FileOut

    Use the UV data in the file FileIn, and write the  spectrally  resampled
    UV data in the file FileOut.

\end{verbatim}
\subsection{UV\_RESIDUAL}
\index{UV\_RESIDUAL}
\begin{verbatim}
        [CLEAN\]UV_RESIDUAL [Arg1 ... ArgN]

      This  command  subtract  Clean components OR fit results from the last
    UV_FIT command, depending whether CLEAN  (or  its  specialized  versions
    HOGBOM,  CLARK,  etc...)  or UV_FIT was done last.  The residual UV data
    can be written by WRITE UV, and imaged by UV_MAP.

    For the Clean component the syntax is
        [CLEAN\]UV_RESIDUAL [Niter]
    which subtracts the Niter first (default all) Clean Components from  the
    UV data.

    For the UV_FIT results, Clean component the syntax is
        [CLEAN\]UV_RESIDUAL [F1 .. Fn]
    which  subtracts the F1 to Fn fitted functions (default all) from the UV
    data.

\end{verbatim}
\subsection{UV\_RESTORE}
\index{UV\_RESTORE}
\begin{verbatim}
        [CLEAN\]UV_RESTORE [/COPY] [/SELF] [/SLOw]

    Create a Clean image from the current UV data set and the  Clean  Compo-
    nent  list.   The  Clean Components are subtracted from the UV data set,
    and these residuals are gridded and Fourier transformed to  compute  the
    Residual  image.  This Residual image is added to the Gaussian beam con-
    volved image of the sum of Clean components. The results are similar  to
    those of MX, since only the residual are aliased.

    This command can be used after HOGBOM, CLARK, MULTI, SDI or MX (although
    it is pointless after MX), but not MRC which has no notion of Clean Com-
    ponents.

\end{verbatim}
\subsection{UV\_REWEIGHT}
\index{UV\_REWEIGHT}
\begin{verbatim}
        [CLEAN\]UV_REWEIGHT Scale

    Scale  the weights of the current UV data with the defined Scale factor.
    Can be used to patch e.g. JVLA data files which may have  only  relative
    weights, not absolute values indicating the noise.

\end{verbatim}
\subsection{UV\_SHIFT}
\index{UV\_SHIFT}
\begin{verbatim}
        [CLEAN\]UV_SHIFT  [CenterX CenterY UNIT [Angle]]

    Shift  the  current  UV table (single field or mosaic) to a common phase
    center. If no argument is specified, the string contained in  MAP_CENTER
    is used instead.

    Although  UV_MAP also provides a direct possibility to re-center the im-
    age on a specified projection (phase) center, the modified  visibilities
    cannot be saved on file. It is sometimes required to do this for specif-
    ic use. UV_SHIFT provides this possibility, and the shifted UV table can
    be written using command WRITE UV.

    UV_DEPROJECT includes the UV_SHIFT capabilities, but also has additional
    functions.

\end{verbatim}
\subsection{UV\_SORT}
\index{UV\_SORT}
\begin{verbatim}
        [CLEAN\]UV_SORT Key   [/FILE FileIn FileOut]

    Sort and transpose the UV data set. The command has two different behav-
    iours, depending on the /FILE option.

    Without  /FILE, the command works on the current UV data, loaded by com-
    mand READ UV File, and creates a transposed, ordered copy of the UV  da-
    ta.  The  Key can be TIME for Time-Baseline ordering, BASE for Baseline-
    Time ordering. The sorted UV data is then available in variable UVS  for
    further plotting. This is only done in an internal buffer. WRITE UV will
    **NOT** write this sorted, transposed, buffer.

    With the /FILE option, the command creates in FileOut a sorted (but  not
    transposed) copy of the UV data file specified in FileIn.

\end{verbatim}
\subsubsection{UV\_SORT /FILE}
\index{UV\_SORT!/FILE}
\begin{verbatim}
        [CLEAN\]UV_SORT Key /FILE FileIn FileOut

    Creates  in  Fileout  a sorted copy of the UV data found in FileIn.  Key
    can be The Key can be TIME for Time-Baseline ordering,  BASE  for  Base-
    line-Time ordering, or FIELDS for Mosaics. TIME ordering is required for
    efficient operation of the time averaging command UV_TIME.

    The command compares the file size to the  available  RAM  memory  (more
    specifically the size indicated by the logical name SPACE_GILDAS) to de-
    cide whether the operation can be done in Memory only or needs  interme-
    diate files to perform the sorting.

\end{verbatim}
\subsection{UV\_SPLIT}
\index{UV\_SPLIT}
\begin{verbatim}
        [CLEAN\]UV_SPLIT  [Degree  [Compress]] /FILE FileIn [FileLine [File-
    Cont]]
      [/CHANNELS Channel_List]
      [/FREQUENCY List Of Frequencies] [/RANGE Min Max [TYPE]]
      [/VELOCITY List of Velocities] [/WIDTH Width [TYPE]]

    "Split" the UV table found in file  FileIn  into  a  Continuum-free  one
    (FileLine)  and  a  Line-free continuum one (FileCont), using the ranges
    specified by one of the other options to indicate where the  line  emis-
    sion  is  (see UV_BASELINE and UV_FILTER for details).  The channels can
    be specified either by the /FREQUENCY or /VELOCITY options  in  combina-
    tion  with  the  /WIDTH option, or by a channel list with /CHANNELS or a
    range (of channels, frequencies or velocities) with /RANGE.

    Degree is the baseline fit degree (0 or at most  1).   Compress  is  the
    number  of line channels averaged together while producing the pure con-
    tinuum (Line-free) visibilities.

    The command only works with files: option /FILE is mandatory.

    With only /FILE as option, the command behaves as UV_SPLIT /FILE  FileIn
    [FileLine [FileCont]] /CHANNELS PreviewChannels.  See UV_PREVIEW for de-
    tails about Preview%Channels.

\end{verbatim}
\subsubsection{UV\_SPLIT /CHANNELS}
\index{UV\_SPLIT!/CHANNELS}
\begin{verbatim}
        [CLEAN\]UV_SPLIT [Degree [Compress]] /FILE FileIn  [FileLine  [File-
    Cont]]
      /CHANNELS Channel_List

    Channel_List  must be a 1-D SIC variable containing the list of channels
    where line emission is assumed to be.

\end{verbatim}
\subsubsection{UV\_SPLIT /FILE}
\index{UV\_SPLIT!/FILE}
\begin{verbatim}
        [CLEAN\]UV_SPLIT [Degree [Compress]] /FILE FileIn  [FileLine  [File-
    Cont]]
      [/FREQUENCY List Of Frequencies] [/RANGE Min Max [TYPE]]
      [/VELOCITY List of Velocities] [/WIDTH Width [TYPE]]
      /FILE FileIn [FileOut]

    Use  the  UV data in the file FileIn, and write the continuum-free visi-
    bilities in the file FileLine, and the line-free visibilities  in  File-
    Cont.  If not specified, FileLine (resp FileCont) is derived from FileIn
    by appending "-line" (resp "-cont") to the filename.

\end{verbatim}
\subsubsection{UV\_SPLIT /FREQUENCY}
\index{UV\_SPLIT!/FREQUENCY}
\begin{verbatim}
        [CLEAN\]UV_SPLIT [Degree [Compress]] /FILE FileIn  [FileLine  [File-
    Cont]]
        /FREQUENCY F1 [... [Fn]] [/WIDTH Width]

    Specify  around  which  frequencies  the  line emission should be found.
    Frequencies F1 to Fn must be in MHz. The full width of the window around
    every frequency can be set by option /WIDTH.  The optional argument TYPE
    indicates the type of width: FREQUENCY (in MHz), VELOCITY (in  km/s)  or
    CHANNEL  (no  unit),  the default being FREQUENCY.  The default width is
    the current channel width.

    Tip: it can be convenient to have a list of SIC variables containing the
    frequencies of the most intense spectral lines, e.g.
            HCO10 = 89188.52

\end{verbatim}
\subsubsection{UV\_SPLIT /RANGE}
\index{UV\_SPLIT!/RANGE}
\begin{verbatim}
        [CLEAN\]UV_SPLIT  [Degree  [Compress]] /FILE FileIn [FileLine [File-
    Cont]]
        /RANGE Min Max [TYPE]

    Indicate that channels between the First and Last defined by Min Max and
    Type contain line emission.  Type can be CHANNEL, VELOCITY or FREQUENCY.

    For  type CHANNEL, Min and Max indicate offsets from Channel 1 and Chan-
    nel Nchan (the number of channels in the data set). Thus Max can be neg-
    ative:  it then indicates Last = Nchan-Max. Also Min=0 and Max=0 implies
    loading all the channels.

\end{verbatim}
\subsubsection{UV\_SPLIT /VELOCITY}
\index{UV\_SPLIT!/VELOCITY}
\begin{verbatim}
        [CLEAN\]UV_SPLIT [Degree [Compress]] /FILE FileIn  [FileLine  [File-
    Cont]]
      /VELOCITY V1 [... [Vn]] [/WIDTH Width [TYPE]]

    Specify  around which velocities the line emission should be found.  Ve-
    locities V1 to Vn must be in km/s. The full width of the  window  around
    every frequency can be set by option /WIDTH.  The optional argument TYPE
    indicates the type of width: FREQUENCY (in MHz), VELOCITY (in  km/s)  or
    CHANNEL  (no  unit),  the default being FREQUENCY.  The default width is
    the current channel width.

\end{verbatim}
\subsubsection{UV\_SPLIT /WIDTH}
\index{UV\_SPLIT!/WIDTH}
\begin{verbatim}
        [CLEAN\]UV_SPLIT [Degree [Compress]] /FILE FileIn  [FileLine  [File-
    Cont]]
      /FREQUENCY F1 [... [Fn]] /WIDTH Width [TYPE]

        [CLEAN\]UV_SPLIT  [Degree  [Compress]] /FILE FileIn [FileLine [File-
    Cont]]
      /VELOCITY V1 [... [Vn]] /WIDTH Width [TYPE]

    Specify the full width of the window around every frequency given in the
    /FREQUENCY  option  or  any velocity given in the /VELOCITY option.  The
    optional argument TYPE indicates the type of width: FREQUENCY (in  MHz),
    VELOCITY  (in  km/s)  or CHANNEL (no unit), the default being FREQUENCY.
    The default width is the current channel width.


\end{verbatim}
\subsection{UV\_STAT}
\index{UV\_STAT}
\begin{verbatim}
        [CLEAN\]UV_STAT ALL|BEAM|BRIGGS|CELL|HEADER|RESET|SETUP|TAPER|WEIGHT
    [Step Start]

    UV_STAT  allows  the astronomer to select the best weighting and imaging
    parameters according to its personal trade off between  angular  resolu-
    tion, sensitivity and field of view.

      Default is ALL, equivalent to HEADER+ADVISE

\end{verbatim}
\subsubsection{UV\_STAT Casa}
\index{UV\_STAT!Casa}
\begin{verbatim}

        CASA and GILDAS handle the weighting scheme slightly differently and
    with different conventions for the Robust parameter values.

    CASA uses only Briggs weighting, while IMAGER offers the Briggs  weight-
    ing  scheme (obtained for MAP_ROBUST < 0) and a different, more progres-
    sive, weighting (obtained for MAP_ROBUST > 0).

    For MAP_ROBUST < 0, the corresponding CASA Briggs value can be  obtained
    by adding 2.

    In addition, CASA apparently uses a default value for the size of the UV
    cell in Briggs weighting which is about the  dish  diameter(*).   IMAGER
    leaves that entirely to the user's choice.

    (*)  This default value quoted before is valid for a single field.  How-
    ever, the documentation is unclear in this respect and suggests that the
    UV  cell  size depends on  the imaged field size. This would be strange,
    though. What happens for mosaics is even less clear.


\end{verbatim}
\subsubsection{UV\_STAT Arguments:}
\index{UV\_STAT!Arguments:}
\begin{verbatim}
        [CLEAN\]UV_STAT Mode [Step Start]

    Argument Mode describes the action. Possible values are
    ADVISE     Suggest values for Map size, Map field and Pixel size
    ALL        As HEADER + ADVISE
    BEAM       Evaluate (and optionally display) the synthesized beam
    BRIGGS     Estimate beam size as function of Briggs robust parameter
    CELL       Estimate beam size as function of UV cell size
    HEADER     Display detailed UV header
    RESET      Reset Map size, Map field and Pixel size to user values
    SETUP      Take suggested values for Map size, Map field and Pixel size
    TAPER      Estimate beam size as function of UV Taper
    WEIGHT     Estimate beam size as function of Gildas robust parameter

    The default value is ALL, which makes the same action as HEADER + ADVISE
    combined.

\end{verbatim}
\subsubsection{ADVISE}
\index{UV\_STAT!ADVISE}
\begin{verbatim}

        [CLEAN\]UV_STAT ADVISE

      Display  the  recommended  image and pixel sizes, independently of the
    current values of MAP_FIELD, MAP_SIZE and MAP_CELL.

\end{verbatim}
\subsubsection{ALL}
\index{UV\_STAT!ALL}
\begin{verbatim}

        [CLEAN\]UV_STAT ALL

      Display the UV header and a few more associated values, like the  rec-
    ommended image and pixel sizes. Equivalent to HEADER + ADVISE

\end{verbatim}
\subsubsection{BEAM}
\index{UV\_STAT!BEAM}
\begin{verbatim}

        [CLEAN\]UV_STAT BEAM [Show]

      Evaluate  the expected synthesized beam size and orientation, based on
    current imaging parameters MAP_UVCELL, MAP_ROBUST, MAP_UVTAPER.

      If argument Show is present, the synthesized beam is  also  displayed.
    A  fast gridding is used for this command to minimize computing time, so
    the actual synthesized beam produced by UV_MAP will be  (very  slightly)
    different. This does not significantly affect the beam size.

\end{verbatim}
\subsubsection{BRIGGS}
\index{UV\_STAT!BRIGGS}
\begin{verbatim}

        [CLEAN\]UV_STAT BRIGGS  [Step Start]


    Beam sizes and noise level (in flux and brightness) will be computed for
    9 different "robust" weighting parameters using the Briggs method.   The
    Briggs parameters range from -4 (nearly uniform weighting) to 0 (natural
    weighting) (values are shifted by -2 compared to the  Briggs  parameters
    in  CASA).  The taper is taken from variable UV_TAPER.  The UV cell size
    is specified by MAP_UVCELL in m.

    See HELP UV_STAT Casa for details about Briggs parameter vs  Robust  pa-
    rameter.

\end{verbatim}
\subsubsection{CELL}
\index{UV\_STAT!CELL}
\begin{verbatim}
        [CLEAN\]UV_STAT CELL [Step Start]

    Predict the synthesized beam, expected noise level, and recommended pix-
    el size for different values of  the uv cell  size  for  current  robust
    weighting and taper parameters.

\end{verbatim}
\subsubsection{HEADER}
\index{UV\_STAT!HEADER}
\begin{verbatim}
        [CLEAN\]UV_STAT HEADER

    Display  a  brief  summary of the UV data: number of antennas, observing
    dates, baseline ranges,  spectroscopic information.

\end{verbatim}
\subsubsection{RESET}
\index{UV\_STAT!RESET}
\begin{verbatim}
        [CLEAN\]UV_STAT RESET

      Reset MAP_SIZE, MAP_FIELD and MAP_CELL to their previous values  after
    a UV_STAT SETUP.

\end{verbatim}
\subsubsection{SETUP}
\index{UV\_STAT!SETUP}
\begin{verbatim}
        [CLEAN\]UV_STAT SETUP

    Compute  the recommended values for the imaging: image size, pixel size,
    field of view, largest angular scale, etc..., and set the  corresponding
    MAP_variables (MAP_SIZE, MAP_FIELD and MAP_CELL) to these values if they
    were not previously specified.

\end{verbatim}
\subsubsection{TAPER}
\index{UV\_STAT!TAPER}
\begin{verbatim}
        [CLEAN\]UV_STAT TAPER [Step Start]

    For TAPER, beam sizes and noise level (in flux and brightness)  will  be
    computed  for  9 different tapers (from Start to Start*Step^9).  Default
    value for Step is sqrt(2), Default value for Start is  50  m.  Weighting
    mode, UV cell size and "robust" parameter are taken from variable MAPUV-
    CELL and MAP_ROBUST (i.e. one can combine Robust  weighting  and  Taper-
    ing).

\end{verbatim}
\subsubsection{WEIGHT}
\index{UV\_STAT!WEIGHT}
\begin{verbatim}
        [CLEAN\]UV_STAT WEIGHT [Step Start]

    For  WEIGHT, beam sizes and noise level (in flux and brightness) will be
    computed for 9 different "robust" weighting parameters  (from  Start  to
    Start*Step^9). Default value for Step is sqrt(10), and default value for
    Start is derived to center the "robust" parameter values around  1.   UV
    cell  size  is  taken  from variable MAP_UVCELL, and Taper is taken from
    variable UV_TAPER.

\end{verbatim}
\subsection{UV\_TIME}
\index{UV\_TIME}
\begin{verbatim}
        [CLEAN]UV_TIME [Time] [/Weight Wcol]

    Average in time the current UV data set to reduce the number of visibil-
    ities.  Time must be in seconds. If not specified, an automatic guess is
    performed based on antenna size and baseline lengths.

\end{verbatim}
\subsubsection{UV\_TIME /WEIGHT}
\index{UV\_TIME!/WEIGHT}
\begin{verbatim}
        [CLEAN]UV_TIME Time /WEIGHT Wcol

    Select the weight column. Default is 0.

\end{verbatim}
\subsection{UV\_TRUNCATE}
\index{UV\_TRUNCATE}
\begin{verbatim}
        [CLEAN]UV_TRUNCATE Max [Min]

    Truncate the UV data, by removing baselines out of the  specified  range
    Min (default 0) and Max (in meter).

\end{verbatim}
\subsection{VIEW}
\index{VIEW}
\begin{verbatim}
        [CLEAN\]VIEW Argument [FirstPlane [LastPlane]]

    where
        is  the  the  name  of  an internal buffer to be plotted (BEAM, CCT,
    CLEAN, DIRTY, FIELDS, MASK, etc.. ), or any Sic  Image  variable,  or  a
    file name.


        [CLEAN\]VIEW ?

    will  list  the  names of recognized keywords. If Variable is not one of
    the recognized keywords, but an existing Image variable, this image will
    be displayed.

    FirstPlane and LastPlane
        are optional arguments to restrict the range of channels to be plot-
    ted (default: planes between variables FIRST and LAST). If  only  First-
    Plane is specified, SHOW only that plane.

    The  plot  is  done by procedure p_view_cct for Clean Components CCT and
    p_view_map for data cubes.

    VIEW is also controlled by a set of variables, available  in  the  View%
    global structure

\end{verbatim}
\subsubsection{VIEW Variables}
\index{VIEW!Variables}
\begin{verbatim}

    User control variables
    view%expand       0.8 Character and Tick expansion factor
    view%contour      NO  Contour the current channel map
    view%movie        0   Elapsed time in seconds for a movie (0 means guess)
    view%side         YES Display values in side Window
    view%status%rima  NO  Relative coordinates in Images
    view%status%rspe  NO  Relative coordinates in Spectra

    Returned  values  are  found  in view%current structure. The ZOOM action
    produces a sub-cube named EXTRACTED.  The SLICE action  produces  a  2-D
    data  set  named  SLICE.  As any other SIC Image variable, EXTRACTED and
    SLICE can be written on disk using command WRITE.

\end{verbatim}
\subsubsection{VIEW Keys}
\index{VIEW!Keys}
\begin{verbatim}

    Position-independent actions:
      Press E key: EXIT loop
      Press H key: HELP display
      Press M key: MOVIE
      Press P key: PRINT plot in "ha" subdirectory
      Press Q key: QUIT loop
      Press X key: EXTRACT on disk current zoomed region
      Press N key: Toggle  Narrow - Wide mode

    Cursor on images:
      Left  clic: Display spectrum at pointed position
      Right clic: Define a polygon
      Press C key: COORDINATES toggled from absolute to relative and back
      Press S key: SLICE definition (velocity-position)
      Press K key: KILL   pointed pixel
      Press U key: UNKILL pointed pixel
      Press Z key: ZOOM defined spatial region
      Press B key: BACK to full field of view
      Press V key: Display map coordinates at current position (the associated b
      Press W key: WRITE Integrated Area image
    Cursor on spectra:
      Left clic in Selected   Spectrum: Display selected velocity channel
      Left clic in Integrated Spectrum: Define velocity range
      Press C key: COORDINATES toggled from freq/velo to channels and back
      Press Z key: ZOOM defined velocity region
      Press B key: BACK to full velocity range
      Press W key: WRITE Integrated (and current) Spectrum
    Cursor outside plots:
      Press B key: BACK to full velocity range AND full field of view

    ZOOM action produces a sub-cube named EXTRACTED.  SLICE action  produces
    a  2-D  data set named SLICE. As any other SIC Image variable, EXTRACTED
    and SLICE can be written on disk using command WRITE.


\end{verbatim}
\subsection{WRITE}
\index{WRITE}
\begin{verbatim}
        [CLEAN\]WRITE Name File [/APPEND] [/RANGE Start End Kind] [/REPLACE]
    [/TRIM [Any]]

    WRITE  the  buffer  specified  by  Name  (UV, CGAINS, and BEAM, PRIMARY,
    DIRTY, CLEAN, RESIDUAL, SUPPORT, CCT, SKY) onto a File.  Default  exten-
    sions  are  .uvt  for  UV and CGAINS and .beam, .lmv, .lobe, .lmv-clean,
    .lmv-res, .pol, .cct, and lmv-sky respectively for  the  next  ones.  If
    Name does not refer to a known buffer, but to a SIC Image variable, this
    variable is written. The default extension is then .gdf.

    For UV data, the flagged data are written by default. They may be  omit-
    ted using the /TRIM option.

    WRITE  *  File can be used to write all modified image-like buffers (not
    the UV tables) under a common File name. This typically  include  .beam,
    .lmv  and  .lmv-clean, but also the .lmv-sky file if the PRIMARY command
    has been used after deconvolution.

\end{verbatim}
\subsubsection{WRITE /RANGE}
\index{WRITE!/RANGE}
\begin{verbatim}
        [CLEAN\]WRITE Buffer File /RANGE Start End Kind [/REPLACE]

    A range of image planes can be specified through /RANGE option. Kind  is
    the unit of the Start-End values: CHANNEL, VELOCITY, or FREQUENCY.

    Restrictions:
    - The option is still experimental
    - The Buffer name must be specified (* is not valid here)
    - This does not apply to UV data.

\end{verbatim}
\subsubsection{WRITE /APPEND}
\index{WRITE!/APPEND}
\begin{verbatim}
        [CLEAN\]WRITE Buffer File /APPEND [/RANGE Start End Kind]

    EXPERIMENTAL: The selected channels are appended to an existing file.

\end{verbatim}
\subsubsection{WRITE /REPLACE}
\index{WRITE!/REPLACE}
\begin{verbatim}
        [CLEAN\]WRITE Buffer File /REPLACE [/RANGE Start End Kind]

    EXPERIMENTAL: The selected channels are replaced in an existing file.

\end{verbatim}
\subsubsection{WRITE /TRIM}
\index{WRITE!/TRIM}
\begin{verbatim}
        [CLEAN\]WRITE UV File /TRIM [ANY]

    Remove  the flagged visibilities while writing. A visibility is declared
    "flagged" if all channels in it are flagged, unless the keyword  ANY  is
    present.  In  this later case, if a single channel is flagged, the whole
    visibility is declared flagged.



\end{verbatim}
